!==========================================================================================!
!==========================================================================================!
!    RAMSIN.                                                                               !
!                                                                                          !
!    This is the file that contains the various namelists that define how BRAMS is to be   !
! run.   There is some brief information about the variables here.                         !
!==========================================================================================!
!==========================================================================================!






!==========================================================================================!
!==========================================================================================!
!     This namelist controls most of the grid and domain parameters.                       !
!------------------------------------------------------------------------------------------!
$MODEL_GRIDS

   !----- Simulation title (64 characters). -----------------------------------------------!
   EXPNME   = 'BRAMS, version 4.0.6',
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !    Type of run:                                                                       !
   !  MAKESFC   -- Creates the surface files only (SST, soil texture, etc...)              !
   !  MAKEVFILE -- Interpolates the meteorological forcing to the simulation grid, using   !
   !               isentropic interpolation.  In case the surface files don't exist, they  !
   !               will be created as well.                                                !
   !  INITIAL   -- It should be called once the files above are created (especially the    !
   !               MAKEVFILE ones).  This will integrate the atmospheric state, starting   !
   !               from the initial time (IMONTHA,IDATEA,...) and running until the end    !
   !               (IMONTHZ,IDATEZ,...).                                                   !
   !  HISTORY   -- If something happened and the simulation didn't finish, you can resume  !
   !               the simulation by using a history file.  In this case you need to       !
   !               change IMONTHH, IDATEH,... and HFILIN, but do NOT change IMONTHA,       !
   !               IDATEA,...                                                              !
   !---------------------------------------------------------------------------------------!
   RUNTYPE  = 'INITIAL',
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !  Dynamic load balance flag: 1=yes, 0=no.  0 is the only one extensively tested.       !
   !---------------------------------------------------------------------------------------!
   LOAD_BAL = 0,
   !---------------------------------------------------------------------------------------!


   !---------------------------------------------------------------------------------------!
   !     Start of simulation or isentropic analysis processing. Information must be given  !
   ! in UTC time.                                                                          !
   !---------------------------------------------------------------------------------------!
   IMONTHA  =  05,
   IDATEA   =  01,
   IYEARA   =  2009,
   ITIMEA   =  0000,
   !---------------------------------------------------------------------------------------!


   !---------------------------------------------------------------------------------------!
   !     End of simulation or isentropic analysis processing. Information must be given    !
   ! in UTC time.                                                                          !
   !---------------------------------------------------------------------------------------!
   IMONTHZ  =  06,
   IDATEZ   =  01,
   IYEARZ   =  2009,
   ITIMEZ   =  0000,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   !  Grid specifications                                                                  !
   !  NGRIDS - number of grids to run.                                                     !
   !  NNXP   - number of points in X directory (usually this is almost the same as         !
   !           longitude points).  Provide one number for each grid.                       !
   !  NNYP   - number of points in Y directory (usually this is almost the same as         !
   !           latitude points).  Provide one number for each grid.                        !
   !  NNZP   - number of points in height.  Provide one number for each grid.              !
   !           Caveat: unless you are running serial, you should use the same number for   !
   !                   every grid.                                                         !
   !  NZG    - number of soil layers.  One value for all grids.                            !
   !  NZS    - maximum number of snow/water pounding layers.  This is used only for        !
   !           snow, if only liquid water is standing, the water will be all collapsed     !
   !           into a single layer, so if you are running for places where it doesn't snow !
   !           a lot, leave this set to 1.  One value for all grids.                       ! 
   !---------------------------------------------------------------------------------------!
   NGRIDS   =   1,
   NNXP     = 160,
   NNYP     = 120,
   NNZP     =  50,
   NZG      =  12,
   NZS      =   1,
   !---------------------------------------------------------------------------------------!


   !---------------------------------------------------------------------------------------!
   !  NXTNEST.  Nesting map.  The coarsest grid should be always the first and NXTNEST     !
   !            should be always set to 0 for the first grid.                              !
   !            1 means that it is nested within the 1st grid, 2 means that is nested      !
   !            within the 2nd grid and so on.                                             !
   !---------------------------------------------------------------------------------------!
   NXTNEST  = 0,1,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !  IF_ADAP.  Vertical coordinate:                                                       !
   ! 0 -- Terrain-following height coordinate (a.k.a. sigma-z).  This makes all points     !
   !      defined and above ground, but it squeezes the layers atop high ground and it     !
   !      is far vertical in steep slopes.  Nevertheless, this is the commonest and most   !
   !      tested coordinate                                                                !
   ! 1 -- Adaptive height coordinate with shaving as in Adcroft et al. (1997), a.k.a.      !
   !      shaved-eta coordinate.  Points underground will be skipped, but it allows        !
   !      partially aboveground grid points.                                               !
   !---------------------------------------------------------------------------------------!
   IF_ADAP  = 0,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !  IHTRAN.  Horizontal coordinate:                                                      ! 
   !  0 -- Cartesian.  It uses a regular longitude-latitude grid, which means that the     ! 
   !       higher latitudes may have higher resolution.                                    ! 
   !  1 -- Polar-stereographic (highly recommended).  It assigns grid points based on      ! 
   !       the grid centre and grid pole.  If they are close, the grid will be almost      ! 
   !       with constant resolution, even though X and Y won't be exactly longitude and    ! 
   !       latitude.                                                                       ! 
   !---------------------------------------------------------------------------------------!
   IHTRAN   = 1,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !   Grid resolution for the coarsest grid.                                              !
   ! DELTAX -- grid resolution in the X direction, near the grid pole.  Units: [  m].      !
   ! DELTAY -- grid resolution in the Y direction, near the grid pole.  Units: [  m].      !
   !           (unless you are running some specific tests, both should be the same)       !
   ! DELTAZ -- grid resolution in the vertical (at the sea level in case IF_ADAP = 0) of   !
   !           the bottommost layer.  If you'd rather define your layers, set this to 0.   !
   !           and define your layers in ZZ.                                               !
   ! DZRAT  -- rate of increase of spacing between height layers.  Avoid numbers greater   !
   !           than 1.2 because some of BRAMS assumptions on grid resolution will fail.    !
   ! DZMAX  -- maximum grid spacing in metres.                                             !
   ! ZZ     -- discrete layers in case you set DELTAZ to zero.                             !
   !---------------------------------------------------------------------------------------!
   DELTAX   =    25000.,
   DELTAY   =    25000.,
   DELTAZ   =      120.,
   DZRAT    =      1.05,
   DZMAX    =     1000.,
   ZZ       =       0.0,      20.0,      46.0,      80.0,     120.0,     165.0,     220.0,
                  290.0,     380.0,     480.0,     590.0,     720.0,     870.0,    1030.0,
                 1200.0,    1380.0,    1595.0,    1850.0,    2120.0,    2410.0,    2715.0,
                 3030.0,    3400.0,    3840.0,    4380.0,    5020.0,    5800.0,    6730.0,
                 7700.0,    8700.0,    9700.0,   10700.0,   11700.0,   12700.0,   13700.0,
                14700.0,   15700.0,   16700.0,   17700.0,   18700.0,   19700.0,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !   Time resolution for the coarsest grid.                                              !
   ! DTLONG  -- Time step for most prognostic variables if IDELTAT is 0 (see below).       !
   ! NACOUST -- Winds and the Exner function (pressure) are solved with smaller time       !
   !            steps.  The time step for these variables is DTLONG/NACOUST.               !
   ! IDELTAT -- = 0 - use DTLONG and NACOUST                                               !
   !         -- > 0 - let BRAMS determine the time step.  The higher the number, the safer !
   !                  the time step, but it will be smaller.  The value will be constant   !
   !                  throughout the entire simulation.  It is useful for a first guess of !
   !                  DTLONG, but not a good option for actual runs because NACOUST tends  !
   !                  to be too small.                                                     !
   !         -- < 0 - let BRAMS determine the time step.  The more negative the number,    !
   !                  the safer the time step, but it will be smaller.  The value will     !
   !                  vary as needed.  It is useful for a first  guess of DTLONG, but not  !
   !                  a good option for actual runs because NACOUST tends to be too small. !
   !---------------------------------------------------------------------------------------!
   DTLONG   = 30.,
   NACOUST  =   4,
   IDELTAT  =   0,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !     Nest ratios.  This will divide the values given by DELTAX, DELTAY, and DELTAT for !
   ! the nested grids.  The first value should be always one.                              !
   !---------------------------------------------------------------------------------------!
   NSTRATX  = 1,3,          ! X direction
   NSTRATY  = 1,3,          ! Y direction
   NNDTRAT  = 1,3,          ! Time
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !   Vertical nesting.                                                                   !
   ! NESTZ1   -- which grid will be nested.  Only one grid can be nested and only in       !
   !             serial mode.  Put the negative of the grid number.  Setting this to zero  !
   !             will turn nesting off.  Values other than 0 aren't recommended.           !
   ! NSTRATZ1 -- nesting ratio for the grid specified in NESTZ1. Values here are applied   !
   !             layer by layer.                                                           !
   ! NESTZ2   -- same as NESTZ1, but used if BRAMS is run in global mode (deprecated)      !
   ! NSTRATZ2 -- same as NSTRATZ1, but for the global BRAMS (deprecated).                  !
   !---------------------------------------------------------------------------------------!
   NESTZ1   = 0,
   NSTRATZ1 = 3,3,3,3,2,2,2,2,1,
   NESTZ2   = 0,
   NSTRATZ2 = 3,3,3,2,2,2,2,1,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !     The meaning here is for the commonest setting.  For alternative ways, check the   !
   ! manual.                                                                               !
   !                                                                                       !
   ! POLELAT -- Latitude of the pole point.  Set this close to CENTLAT for a more          !
   !            traditional "square"  domain.  One value for all grids.                    !
   ! POLELON -- Longitude of the pole point.  Set this close to CENTLON for a more         !
   !            traditional "square"  domain.  One value for all grids.                    !
   ! CENTLAT -- Latitude of the central point.  One value for each grid.                   !
   ! CENTLON -- Longitude of the central point.  One value for each grid.                  !
   !---------------------------------------------------------------------------------------!
   POLELAT  = -23.00,
   POLELON  = -55.00,
   CENTLAT  = -23.00,
   CENTLON  = -55.00,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !     These variables provide an alternative way of defining nested grids.  The values  !
   ! of the first grid will be ignored.                                                    !
   !                                                                                       !
   ! NINEST  -- Grid point in X direction on the next coarser nest where the southwest     !
   !            corner of this nest will start.  If NINEST or NJNEST = 0, use CENTLAT/LON  !
   ! NJNEST  -- Grid point in Y direction on the next coarser nest where the southwest     !
   !            corner of this nest will start.  If NINEST or NJNEST = 0, use CENTLAT/LON  !
   ! NKNEST  -- Grid point in Z direction on the next coarser nest where the bottommost    !
   !            layer of this nest will start.  Use 1 for perfect matching (recommended).  !
   ! NNSTTOP -- 0 - the nest doesn't need to go to the top of the coarse domain.           !
   !            1 - (highly recommended) the nested grid should reach the same top         !
   ! NNSTBOT -- same as NNSTTOP but for the bottom of the domain.                          !
   !---------------------------------------------------------------------------------------!
   NINEST   = 1,0,
   NJNEST   = 1,0,
   NKNEST   = 1,1,
   NNSTTOP  = 1,1,
   NNSTBOT  = 1,1,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   !      This is for the day when the code allows moving grids again. GRIDU and GRIDV are !
   ! the components of the velocity of moving grids.  Don't worry about these variables,   !
   ! this is currently not working.                                                        !
   !---------------------------------------------------------------------------------------!
   GRIDU    = 0.,0.,
   GRIDV    = 0.,0.,
   !---------------------------------------------------------------------------------------!
$END
!==========================================================================================!
!==========================================================================================!






!==========================================================================================!
!==========================================================================================!
!     This namelist controls parameters relative to the Coupled Aerosol Tracer and         !
! Transport sub-model (CATT).                                                              !
!------------------------------------------------------------------------------------------!
$CATT_INFO

   !---------------------------------------------------------------------------------------!
   !  CATT            -- this will tell whether to run (1) or not to run (0) CATT.         !
   !                                                                                       !
   !  The following parameters will be used only if CATT is set to 1.                      !
   !                                                                                       !
   !  FIREMAPFN       -- this is the path plus prefix of the fire and tracers              !
   !  RECYCLE_TRACERS -- Tracers should be recycled (0 - no, 1 - yes                       !
   !  PLUMERISE       -- flag to active the plume rise mechanism for biomass burning       !
   !                     emissions (0 - off, 1 - on)                                       !
   !  PRFRQ           -- Time interval in seconds during a simulation which the injection  !
   !                     layer of biomass burning flaming emissions will be released is    !
   !                     to be computed by the plumerise parametrisation                   !
   !---------------------------------------------------------------------------------------!
   CATT            = 0,
   FIREMAPFN       = '/gfs/dk15/fazenda/data/Queima_source',
   RECYCLE_TRACERS = 0,
   PLUMERISE       = 0,
   PRFRQ           = 3600.,
   !---------------------------------------------------------------------------------------!
$END
!==========================================================================================!
!==========================================================================================!






!==========================================================================================!
!==========================================================================================!
!   This namelist controls parameters relative to the TEB urban model.                     !
!------------------------------------------------------------------------------------------!
$TEB_SPM_INFO
   !---------------------------------------------------------------------------------------!
   !  TEB_SPM - flag to decide whether to turn TEB on or off. (1=on; 0=off).               !
   !---------------------------------------------------------------------------------------!
   TEB_SPM  = 0,
   !---------------------------------------------------------------------------------------!

$END
!==========================================================================================!
!==========================================================================================!






!==========================================================================================!
!==========================================================================================!
!      This namelist controls which initial and boundary atmospheric conditions will be    !
! used by BRAMS, and how they will be used.  This is also the place where you can set the  !
! output of your runs.                                                                     !
!------------------------------------------------------------------------------------------!
$MODEL_FILE_INFO

   !---------------------------------------------------------------------------------------!
   ! INITIAL - How should BRAMS initialise the atmospheric state for this simulation.      !
   !           1.  Horizontally homogeneous, the user will provide a radiosonde profile    !
   !               (check the MODEL_SOUND namelist for further details.                    !
   !           2.  Initial conditions will come from the isentropic analysis               !
   !               given in VARFPFX.                                                       !
   !           3.  Initial conditions will come from history file given in HFILIN.         !
   !---------------------------------------------------------------------------------------!
   INITIAL  = 2,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   ! NUD_TYPE -- Nudging is the lateral and top boundary conditions, but it is also a      !
   !             function that may be applied in the middle of the domain so BRAMS         !
   !             results don't drift away too much from the input data.  Options are:      !
   !             0.  No nudging at all (not recommended unless for very short runs.        !
   !             1.  Nudge from history files, provided by NUD_HFILE.  This is the same    !
   !                 as a one-way nesting                                                  !
   !             2.  Nudge from isentropic files provided by VARFPFX.                      !
   !---------------------------------------------------------------------------------------!
   NUD_TYPE = 2,
   !---------------------------------------------------------------------------------------!


   !---------------------------------------------------------------------------------------!
   ! VARFPFX   -- This is the prefix for the isentropic files that will be used for        !
   !              nudging.  Used only when NUD_TYPE is 2.  Make sure that VARPFX at the    !
   !              ISAN_CONTROL namelist is exactly the same as VARFPFX unless you really   !
   !              want to use a different dataset.                                         !
   ! VWAIT1    -- In case the expected file isn't there, you may make BRAMS to wait for    !
   !              the file.  VWAIT1 tells how long BRAMS should wait until checking for    !
   !              the file again (in seconds).  If all files are already there, you can up !
   !              set this to 0.                                                           !
   ! VWAITTOT  -- If BRAMS has waited until the time specified in VWAITTOT (seconds), then !
   !              the model gives up and quit.                                             !
   ! NUD_HFILE -- This is the prefix for when NUD_TYPE is set to 1.                        !
   !---------------------------------------------------------------------------------------!
   VARFPFX   = '/mypath/isean/ecmwf',
   VWAIT1    = 0.,
   VWAITTOT  = 0.,
   NUD_HFILE = '/mypath/histo/mysimul',
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !     The following variables control the parts of the domain that are subject to       !
   ! nudging, the nudging strength, and the relative weight for different variables and    !
   ! different grids.                                                                      !
   !                                                                                       !
   ! NUDLAT        -- number of points in the edge of the domain that will be considered   !
   !                  lateral boundary                                                     !
   ! TNUDLAT       -- Time scale at the lateral boundary.  Nudging will be stronger for    !
   !                  small values.  Setting this to zero, however, will turn off nudging. !
   !                  Value is given in seconds.                                           !
   ! TNUDCENT      -- Time scale at the grid centre.  Nudging will be controlled by this   !
   !                  variable except at the lateral boundary.  It works the same way as   !
   !                  TNUDLAT.                                                             !
   ! TNUDTOP       -- Time scale at the grid top.  Above ZNUDTOP, this will be the time    !
   !                  scale. It works the same way as TNUDLAT.                             !
   ! ZNUDTOP       -- Height above which BRAMS will use TNUDTOP rather than TNUDCENT.      !
   ! WT_NUDGE_GRID -- Relative weight of nudging, in case you want weaker nudging for      !
   !                  nested grids.  One value for each grid, the first one should be      !
   !                  always one.                                                          !
   ! WT_NUDGE_UV   -- Relative weight for wind nudging                                     !
   ! WT_NUDGE_TH   -- Relative weight for ice-liquid potential temperature                 !
   ! WT_NUDGE_PI   -- Relative weight for the Exner function                               !
   ! WT_NUDGE_RT   -- Relative weight for the total water mixing ratio                     !
   ! WT_NUDGE_CO2  -- Relative weight for CO2 mixing ratio.                                !
   !                                                                                       !
   ! ZB_NUDGE_???  -- Lower boundary nudging.  Nudging intensity at the inner part of the  !
   !                  domain will decrease quadratically below ZB_NUDGE_??, becoming zero  !
   !                  at the surface.  In case ZB_NUDGE_??? = 0., no quadratic attenuation !
   !                  will occur.                                                          !
   ! ZB_NUDGE_UV   -- Lower boundary for u and v                                           !
   ! ZB_NUDGE_TH   -- Lower boundary for theta                                             !
   ! ZB_NUDGE_PI   -- Lower boundary for pi                                                !
   ! ZB_NUDGE_RT   -- Lower boundary for r_tot                                             !
   ! ZB_NUDGE_CO2  -- Lower boundary for CO2                                               !
   !---------------------------------------------------------------------------------------!
   NUDLAT        =      8 ,
   TNUDLAT       =    900.,
   TNUDCENT      =  86400.,
   TNUDTOP       =  10800.,
   ZNUDTOP       =  18000.,
   WT_NUDGE_GRID =      1., 0.80,
   WT_NUDGE_UV  =       1.,
   WT_NUDGE_TH  =       1.,
   WT_NUDGE_PI  =       4.,
   WT_NUDGE_RT  =       1.,
   WT_NUDGE_CO2 =       1.,
   ZB_NUDGE_UV  =       0.,
   ZB_NUDGE_TH  =       0.,
   ZB_NUDGE_PI  =       0.,
   ZB_NUDGE_RT  =       0.,
   ZB_NUDGE_CO2 =       0.,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   !    Nudging of condensed/frozen water.                                                 !
   !                                                                                       !
   ! NUD_COND        --  Apply nudging to condensed/frozen water (0 = no, 1 = yes)         !
   !                                                                                       !
   ! These options will be used only if NUD_COND is set to 1.                              !
   !                                                                                       !
   ! COND_HFILE      --  Header file name for condensed/frozen water nudging.  You must    !
   !                     provide a full header file, although only the prefix will be      !
   !                     used.                                                             !
   ! TCOND_BEG       --  Run time when we should start applying nudging                    !
   ! TCOND_END       --  Run time when we should stop nudging                              !
   ! WT_NUDGE_RC     --  Similar to the weighting factor for the other variables.          !
   ! ZB_NUDGE_RC     --  Similar to the lower boundary height for the other variables.     !
   ! WT_NUDGEC_GRID  --  Grid relative weights for nudging of condensed/frozen water.      !
   !---------------------------------------------------------------------------------------!
   NUD_COND       = 0,
   COND_HFILE     = '/mypath/histo/mysimul-H-2001-07-21-000000-head.txt',
   TCOND_BEG      = 0.,
   TCOND_END      = 21600.,
   WT_NUDGE_RC    = 0.01,
   ZB_NUDGE_RC    = 0.,
   WT_NUDGEC_GRID =  1., 0.8,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   !    Data assimilation directly from observations.  This is different from the blending !
   ! that can be done in the isentropic analysis because this is used directly as nudging, !
   ! so the effect is generally stronger.                                                  !
   !                                                                                       !
   ! IF_ODA --  Apply observation data assimilation, ODA (0 - no, 1 - yes)                 !
   !                                                                                       !
   ! The following variables are used only if IF_ODA is 1.                                 !
   ! ODA_UPAPREFIX -- file prefix for upper air observations (radiosondes)                 !
   ! ODA_SFCPREFIX -- file prefix for surface observations (weather stations/towers)       !
   ! FRQODA        -- frequency of observation analysis                                    !
   ! TODABEG       -- simulation time when we should start applying the ODA [seconds]      !
   ! TODAEND       -- simulation time when we should stop applying the ODA  [seconds]      !
   ! TNUDODA       -- nudging time scale for ODA (it works the same way as the TNUDLAT)    !
   ! WT_ODA_GRID   -- relative nudging weights for active grids.  Setting the value to     !
   !                  zero turns off data assimilation to that particular grid.            !
   ! WT_ODA_UV     -- ODA nudging weight factor for winds                                  !
   ! WT_ODA_TH     -- ODA nudging weight factor for ice-liquid potential temperature       !
   ! WT_ODA_PI     -- ODA nudging weight factor for the Exner function                     !
   ! WT_ODA_RT     -- ODA nudging weight factor for the total water mixing ratio           !
   ! RODA_SFCE     -- radius [m] where the influence of surface observations falls to e^-2 !
   ! RODA_SFC0     -- radius [m] where the influence of surface observations falls to 0    !
   ! RODA_UPAE     -- radius [m] where the influence of upper air observations falls to    !
   !                  e^-2                                                                 !
   ! RODA_UPA0     -- radius [m] where the influence of upper air observations falls to 0  !
   ! RODA_HGT      -- height [m] at which we transition from surface radii of influence to !
   !                  the upper air ones.                                                  !
   ! RODA_ZFACT    -- vertical factor related to dx/dz (more details on the manual)        !
   ! ODA_SFC_TIL   -- time interpolation limit (TIL) for surface observations [seconds].   !
   !                  If the future-past observation time is greater than this limit, do   !
   !                  not use for interpolations.                                          !
   ! ODA_SFC_TEL   -- time extrapolate limit (TEL) for surface observations. If the        !
   !                  past or future observation is greater than TIL, but less than TEL,   !
   !                  then use the observations.                                           !
   ! ODA_UPA_TIL   -- same as ODA_SFC_TIL but for the upper air observations               !
   ! ODA_UPA_TEL   -- same as ODA_SFC_TEL but for the upper air observations               !
   !---------------------------------------------------------------------------------------!
   IF_ODA        = 0,
   ODA_UPAPREFIX = '',
   ODA_SFCPREFIX = '',
   FRQODA        = 21600.,
   TODABEG       = 0.,
   TODAEND       = 99999999.,
   TNUDODA       = 3600.,
   WT_ODA_GRID   =  1., 0.75,
   WT_ODA_UV     = 1.,
   WT_ODA_TH     = 1.,
   WT_ODA_PI     = 1.,
   WT_ODA_RT     = 1.,  
   RODA_SFCE     =  72000.,  36000.,
   RODA_SFC0     = 200000., 216000.,
   RODA_UPAE     = 150000.,  75000.,
   RODA_UPA0     = 450000., 225000., 
   RODA_HGT      =   3000.,   3000.,
   RODA_ZFACT    =    100.,    100.,   
   ODA_SFC_TIL   =  21600.,
   ODA_SFC_TEL   =   1200.,
   ODA_UPA_TIL   =  43200.,
   ODA_UPA_TEL   =   3600.,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   !     The following variables control the cumulus inversion tendency, i.e., it reads    !
   ! in precipitation data and create a cumulus clouds out of them and add them to the     !
   ! atmospheric fields.  This is not fully implemented, and no longer supported so if you !
   ! are not sure whether you should turn this on or not, that means you don't want it.    !
   !                                                                                       !
   ! IF_CUINV  -- This flag controls whether to run the cumulus inversion                  !
   !              (0 - no, 1 - oh, dear)                                                   !
   !                                                                                       !
   ! The following variables are used only if IF_CUINV is 1.                               !
   !                                                                                       !
   ! CU_PREFIX -- Prefix with the interpolated cumulus files.                              !
   ! TNUDCU    -- Time scale for rainfall nudging (works the same way as TNUDLAT)          !
   ! TCU_BEG   -- Time to start applying the cumulus inversion nudging [seconds]           !
   ! TCU_END   -- Time to stop applying the cumulus inversion nudging  [seconds]           !
   ! CU_TEL    -- Time extrapolate limit (TEL) for cumulus inversion [seconds].  If the    !
   !              past or future observation is greater than TIL, but less than TEL, then  !
   !              use the observations.                                                    !
   ! CU_TIL    -- time interpolation limit (TIL) for cumulus inversion [seconds].  If the  !
   !              future-past observation time is greater than this limit, do not use to   !
   !              interpolate.                                                             !
   !---------------------------------------------------------------------------------------!
   IF_CUINV   =      0,
   CU_PREFIX  = '/mypath/cumul/mysimul-C-',
   TNUDCU     =   900.,
   WT_CU_GRID =     1.,   1.,   .5,
   TCU_BEG    =     0., 
   TCU_END    =  7200.,
   CU_TEL     =  3600.,
   CU_TIL     = 21600.,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   !     History file information.  These variables are used to continue a simulation from !
   ! a point other than the beginning.  Time must be in UTC.                               !
   !                                                                                       !
   ! IMONTHH, IDATEH, IYEARH, ITIMEH -- the time of the history file.  This is the only    !
   !     place you need to change dates for a HISTORY run.  You may change IMONTHZ and     !
   !     related in case you want to extend the run, but yo should NOT change IMONTHA and  !
   !     related.                                                                          !
   ! HFILIN -- prefix of the history file.                                                 !
   !---------------------------------------------------------------------------------------!
   IMONTHH  = 02,
   IDATEH   = 01,
   IYEARH   = 2009,
   ITIMEH   = 0600,
   HFILIN   = '/mypath/histo/mysimul',
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !     These variables control the input for assimilation, which are currently use by    !
   ! LEAF-3 variables only (see ISFCL).                                                    !
   !                                                                                       !
   ! IPASTIN -- Should I initialise various LEAF fields from analysis file?                !
   !            (0 = no, 1 = yes)                                                          !
   ! PASTFN  -- In case IPASTIN is 1, this is the input analysis file name.                !
   !---------------------------------------------------------------------------------------!
   IPASTIN   = 0,
   PASTFN    = '/mypath/analy/mysimul-A-2000-01-09-000000-head.txt',
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   !     Variables that control the regular output.                                        !
   !                                                                                       !
   ! IOUTPUT  -- Kind of output:                                                           !
   !             0.  No output files.  This is the best option if all that you want is to  !
   !                 occupy nodes and prevent people to use them, but don't want to spend  !
   !                 time looking at the results;                                          !
   !             1.  ASCII file.  Not supported, thus not recommended.                     !
   !             2.  Binary files, the BRAMS original output                               !
   !             3.  HDF5 files                                                            !
   ! HFILOUT  -- Prefix for history files.                                                 !
   ! AFILOUT  -- Prefix for analysis files                                                 !
   ! ICLOBBER -- What to do in case the model finds a file that it was supposed the        !
   !             written? 0 = stop the run, 1 = overwrite without warning.                 !
   ! IHISTDEL -- what to do when a more recent history file is written?                    !
   !             0 -- keep the old ones                                                    !
   !             1 -- delete the old ones, keep only the most recent.                      !
   ! FRQHIS   -- time interval between history files, in seconds.                          !
   ! FRQANL   -- time interval between analysis files.                                     !
   !---------------------------------------------------------------------------------------!
   IOUTPUT  =  2,
   HFILOUT  = '/mypath/histo/support',
   AFILOUT  = '/mypath/analy/support',
   ICLOBBER =  1,
   IHISTDEL =  0,
   FRQHIS   = 86400.,
   FRQANL   = 10800.,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !     BRAMS also has the option of writing light analysis, which will only contain the  !
   ! variables and the part of the domain you want:                                        !
   !                                                                                       !
   ! FRQLITE -- time interval between light analysis.  Setting this to zero will turn off  !
   !            light analysis                                                             !
   !                                                                                       !
   ! The following variables will be used only if FRQLITE is not zero.                     !
   !                                                                                       !
   ! XLITE      --  The absolute grid indices for the X direction.  For the full domain,   !
   !                set it to /0:0/                                                        !
   ! YLITE      --  Same as XLITE, but for the Y direction.                                !
   ! ZLITE      --  Same as XLITE, but for the vertical direction.                         !
   ! NLITE_VARS --  Number of variables to be in the output                                !
   ! LITE_VARS  --  The list of variables to be included.  Make sure to adjust NLITE_VARS  !
   !                accordinly.                                                            !
   !---------------------------------------------------------------------------------------!
   FRQLITE    = 0.,
   XLITE      = '/0:0/',
   YLITE      = '/0:0/',
   ZLITE      = '/0:0/',
   NLITE_VARS = 71,
   LITE_VARS  =        'GLON',        'GLAT',        'TOPT',      'CONPRR',       'PCPRR',
                      'PCPRP',       'PCPRS',       'PCPRA',       'PCPRG',       'PCPRH',
                     'ACONPR',       'ACCPR',       'ACCPP',       'ACCPS',       'ACCPA',
                      'ACCPG',       'ACCPH',          'PP',          'UP',          'VP',
                       'TKEP',        'SIGW',       'THETA',          'RV',        'CO2P',
                        'RCP',         'RRP',         'RPP',         'RSP',         'RAP',
                        'RGP',         'RHP',          'Q6',          'Q7',     'CUPRLIQ',
                    'CUPRICE',  'PATCH_AREA', 'PATCH_ROUGH',  'VEG_HEIGHT',    'CAN_PRSS',
                  'CAN_THETA',    'CAN_RVAP',     'CAN_CO2',       'USTAR',       'TSTAR',
                      'RSTAR',       'CSTAR',     'VEG_LAI',      'RIBULK',        'ZETA',
                    'SFLUX_T',     'SFLUX_R',     'SFLUX_C',     'SFLUX_U',     'SFLUX_V',
                    'SFLUX_W',      'PBLHGT',      'RSHORT',       'RLONG',     'RLONGUP',
                     'ALBEDT',       'MYNUM', 'SOIL_ENERGY',  'SOIL_WATER',   'SOIL_TEXT',
                 'LEAF_CLASS',
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   !    The files above will produce instantaneous fields, and often you may need averaged !
   ! fields instead.   The following variables will control how the average is done and    !
   ! how often they should be written.                                                     !
   ! AVGTIM  -- Average time for analysis variables.  The absolute value must be less than !
   !            or equal to FRQANL, and normally you would want to set this the same as    !
   !            FRQMEAN or FRQBOTH.                                                        !
   !            = 0 -- special flag, no average will be produced                           !
   !            < 0 -- The output file will contain the average ending at that time,       !
   !                   in seconds. E.g. -3600. will produce averages every hour, ending at !
   !                   that hour.                                                          !
   !            > 0 -- The output file will contain the average centred at that time, in   !
   !                   seconds. E.g. 3600. will produce averages every hour, from half an  !
   !                   hour before to half an hour after.                                  !
   ! FRQMEAN -- Time interval between two averaged files, in seconds.                      !
   !            0 means that you don't want average files                                  !
   ! FRQBOTH -- Time interval between two "both" files.  "Both" means both averaged and    !
   !            light.  0 means that you don't want these files.                           !
   !---------------------------------------------------------------------------------------!
   AVGTIM   =     0.,
   FRQMEAN  =     0.,
   FRQBOTH  =     0.,
   !---------------------------------------------------------------------------------------!


   !---------------------------------------------------------------------------------------!
   !   This flag determines whether to include the scalar diffusivity coefficients to the  !
   ! analysis files. 0 means no, 1 means yes.                                              !
   !---------------------------------------------------------------------------------------!
   KWRITE   =    1,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !     The following variable controls the output of full domain variables on screen.    !
   ! Other than debugging, this is not recommended.                                        !
   ! FRQPRT  -- Time interval between these prints, in seconds.  0 means never print it.   !
   ! INITFLD -- Should the initial field be printed on screen? (0 = no, 1 = yes).          !
   !                                                                                       !
   !    More options at the MODEL_PRINT namelist.                                          !
   !---------------------------------------------------------------------------------------!
   FRQPRT   = 21600.,
   INITFLD  = 1,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !      These variables are the path to where the code should write the surface files    !
   ! that are interpolated to this simulation domain.                                      !
   !                                                                                       !
   ! TOPFILES -- File path and prefix for topography                                       !
   ! SFCFILES -- File path and prefix for land use and soil texture                        !
   ! SSTFPFX  -- File path and prefix for SST files                                        !
   ! NDVIFPFX -- File path and prefix for NDVI or LAI files (see IUSELAI).                 !
   !---------------------------------------------------------------------------------------!
   TOPFILES = '/mypath/surfa/topog',
   SFCFILES = '/mypath/surfa/surfa',
   SSTFPFX  = '/mypath/surfa/seast',
   NDVIFPFX = '/mypath/surfa/laidx',
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !  The following variables control which surface conditions we should use, and how they !
   ! should be used for topography, SST, land use (veg), soil texture and NDVI/LAI (see    !
   ! IUSELAI).  You must provide on value for each grid.                                   !
   ! 0 -- Interpolate from coarser grid (not an option for the first grid)                 !
   ! 1 -- Read in from a dataset I will provide in the IXXXXFN variables a few lines       !
   !      below.                                                                           !
   ! 2 -- No data available, I will use constant values I will provide in the              !
   !      MODEL_OPTIONS namelist.                                                          !
   ! 3 -- This is only used for land use data and soil texture when running ED-2 (see      !
   !      ISFCL).  Use the files specified in the VEG_DATABASE and SOIL_DATABASE files in  !
   !      the ED2_INFO namelist.  In case you leave them as 3 but don't run ED, they will  !
   !      be treated as option 1.                                                          !
   !---------------------------------------------------------------------------------------!
   ITOPTFLG = 1,1,1,
   ISSTFLG  = 1,1,1,
   IVEGTFLG = 1,1,1,
   ISOILFLG = 1,1,1,
   NDVIFLG  = 1,1,1,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !  NOFILFLG -- what to do in case I don't find the files?                               !
   !              0 - interpolate from coarser grid                                        !
   !              2 - use the horizontally homogeneous values prescribed in MODEL_OPTIONS. !
   !---------------------------------------------------------------------------------------!
   NOFILFLG = 2,0,0,
   !---------------------------------------------------------------------------------------!


   !---------------------------------------------------------------------------------------!
   !      NDVI/LAI and SST may change over time.  These variables control whether to       !!
   ! update the values using linear interpolation or not.                                  !
   ! 0 - use initial values and keep the field constant.                                   !
   ! 1 - linearly interpolate them throughout the simulation.                              !
   !---------------------------------------------------------------------------------------!
   IUPDNDVI  = 1,
   IUPDSST   = 1,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !  IUSELAI -- Ultimately we need LAI in LEAF, but the default dataset is usually NDVI.  !
   !             This variable lets you to decide which field you provide:                 !
   !                                                                                       !
   ! 0 -- Don't substitute LAI data for the NDVI data                                      !
   ! 1 -- The NDVI data files are actually LAI data                                        !
   !---------------------------------------------------------------------------------------!
   IUSELAI   = 1,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !    The following only apply for IxxxxFLG=1. If IVEGTFLG and/or ISOILFLG are set to 3  !
   ! and it is a coupled run, then you must set up VEG_DATABASE and/or SOIL_DATABASE,      !
   ! respectively.                                                                         !
   !---------------------------------------------------------------------------------------!
   ITOPTFN  = '/n/gstore/Labs/moorcroft_lab_protected/data/brams_data/topo/EL',
   ISSTFN   = '/n/gstore/Labs/moorcroft_lab_protected/data/brams_data/weeklysst/W',
   IVEGTFN  = '/n/gstore/Labs/moorcroft_lab_protected/data/brams_data/veg_MCD12Q1/2012/MCD12Q1LU1_2012_',
   ISOILFN  = '/n/gstore/Labs/moorcroft_lab_protected/data/brams_data/soil_brams406/RADAM+Quesada+IGBP/RADAM+Quesada+IGBP_',
    NDVIFN  = '/n/gstore/Labs/moorcroft_lab_protected/data/brams_data/lai-modis/2001LAI',
   !---------------------------------------------------------------------------------------!


   !---------------------------------------------------------------------------------------!
   ! Topography scheme:                                                                    !
   ! ITOPSFLG -  This variable controls how high-resolution topography should be read in   !
   !             Check the manual for the pros and cons of each method.                    !
   !             0 = Average Orography                                                     !
   !             1 = Silhouette Orography                                                  !
   !             2 = Envelope Orography                                                    !
   !             3 = Reflected Envelope Orography                                          !
   !                                                                                       !
   ! TOPTENH  -  This is ignored if ITOPSFLG is 0.                                         !
   !          -  If ITOPSFLG is 1, this is the weighting of topography silhouette          !
   !             averaging                                                                 !
   !          -  If ITOPSFLG is 2 or 3, this is the reflected envelope and envelope        !
   !             orography enhancement factor                                              !
   !                                                                                       !
   ! TOPTWVL  -  this is the topography wavelength cutoff in the orography filter          !
   !             Value given in number of grid cells.  More details in the manual.         !
   !---------------------------------------------------------------------------------------!
   ITOPSFLG = 0,0,
   TOPTENH  = 1.,1.,
   TOPTWVL  = 3.,2.,2.,4.,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !  Surface roughness scheme                                                             !
   !                                                                                       !
   ! IZ0FLG - this variable controls how to determine roughness (one value for each grid). !
   !          0 - use vegetation, bare soil, snow, and water surface only                  !
   !          1 - use all the above plus the sub-grid scale topography.                    !
   !                                                                                       !
   ! Z0MAX  - Maximum sub-grid topography roughness when IZ0FLG is 1.                      !
   ! Z0FACT - This is the sub-grid scale orographic roughness factor.  More details in the !
   !          manual.                                                                      !
   !---------------------------------------------------------------------------------------!
   IZ0FLG   = 0,0,
   Z0MAX    = 5.,5.,
   Z0FACT   = 0.005,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !     Microphysics collection tables.  This creates the collection tables with the      !
   ! microphysics parameters you specify in the MODEL_OPTIONS.  You can save some time in  !
   ! the beginning of the simulation by saving this table the first time you run the model !
   ! and reusing the table next time you run the model.                                    !
   !                                                                                       !
   ! MKCOLTAB -- Flag to decide whether to generate a table or not.                        !
   !             0.  use an old table.  Useful for stable operational runs where the       !
   !                 settings don't change.                                                !
   !             1.  create a new table.  This is the recommended option for most cases.   !
   !                                                                                       !
   ! COLTABFN -- path and file name for the collection table.                              !
   !---------------------------------------------------------------------------------------!
   MKCOLTAB = 1,
   COLTABFN = '/mypath/micro/coltab_4.0.6',
   !---------------------------------------------------------------------------------------!
$END
!==========================================================================================!
!==========================================================================================!






!==========================================================================================!
!==========================================================================================!
!      This namelist controls the variables used by the cumulus parametrisation.           !
!------------------------------------------------------------------------------------------!
$CUPARM_OPTIONS
 
   !---------------------------------------------------------------------------------------!
   ! NNQPARM(ngrids) = This determines whether to run the cumulus parametrisation or not.  !
   !                   0 means no and 1 means yes.                                         !
   !                   There is no standard on this, the rule of thumb is that if your     !
   !                   grid resolution is coarser than 15km, you should turn it on, and    !
   !                   if it is finer than 2 km, you should turn it off.  For grid         !
   !                   resolutions in between, trial and error is the best advice...       !
   !---------------------------------------------------------------------------------------!
   NNQPARM  = 1,1,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! NCLOUDS: How many clouds do you want to use?                                          !
   ! PS1: If you want to run deep convection only, use nclouds=1                           !
   ! PS2: If you want to run shallow convection only for a certain grid                    !
   !      (or all grids...) set up nclouds to 2 and ndeepest to 0                          !
   ! PS3: If NCLOUDS >= 3, then the middle ones will necessarily use Grell's               !
   !      parameterization.                                                                !
   !---------------------------------------------------------------------------------------!
   NCLOUDS  = 2,
   !---------------------------------------------------------------------------------------!


   !---------------------------------------------------------------------------------------!
   ! Both define the cumulus scheme to be used for the deepest and shallowest clouds.      !
   ! NDEEPEST(ngrids)    : 0 - turn it off; 1- run Kuo  ; 2- run Grell; 3- run old Grell;  !
   ! NSHALLOWEST(ngrids) : 0 - turn it off; 1- run Souza; 2- run Grell; 3- run old Grell;  !
   !---------------------------------------------------------------------------------------!
   NDEEPEST    = 2,2,
   NSHALLOWEST = 2,2,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !   WCLDBS -- used only if NNDEEPEST is set to 1.  In this case, it means the minimum   !
   !             vertical motion needed at cloud base to trigger convection [m/s]          !
   !---------------------------------------------------------------------------------------!
   WCLDBS = 0.0,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! CONFRQ: how often should the cumulus parametrisation be updated?                      !
   ! CPTIME: when I should start computing the cumulus parametrisation.                    !
   !---------------------------------------------------------------------------------------!
   CONFRQ = 1200.,
   CPTIME = 1200.,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! IUPMETHOD --  How to find the level in which updrafts originate:                      !
   !               1. Maximum moist static energy;                                         !
   !               2. PBL top (if IDIFFK=7, uses the pblhgt from turbulence)               !
   !               3. Most turbulent layer                                                 !
   !               4. Max w+sigw within the PBL.                                           !
   !               5. Start from the bottom, move upwards (5 is available only if          !
   !                  CAP_MAXS < 0)                                                        !
   ! ILOUREC   --  Should the search for level of origin of updrafts (LOU) be recursive?   !
   !               0. No                                                                   !
   !               1. Yes.                                                                 !
   !---------------------------------------------------------------------------------------!
   IUPMETHOD   = 1,
   ILOUREC     = 1,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   !  The following variables have (nclouds) dimension.                                    !
   !                                                                                       !
   ! RADIUS    - Cloud mean radius [m]. Important: the cloud won't have downdrafts nor     !
   !             precipitation if its radius is less than min_down_radius                  !
   !             (grell_coms.f90).  Default min_down_radius is 900.                        !
   ! DEPTH_MIN - Minimum depth that the cloud must have [m].                               !
   !---------------------------------------------------------------------------------------!
   RADIUS    = 12000., 600.,
   DEPTH_MIN =  4000., 100.,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !    CAP_MAXS controls whether convection can happen or not.  Values can be negative or !
   ! positive (but never 0).  It is a scalar.                                              !
   ! Positive: Depth of the inverse capping in hPa.  The larger the value is, the less     !
   !           likely  is to develop convection.                                           !
   ! Negative: The minimum probability [%] of the air parcel leaving from the level of     !
   !           origin of the updrafts to reach the level of free convection (if its radius !
   !           is greater than min_down_radius) or the minimum depth (if its radius is     !
   !           less than min_down_radius).  The probability is found by using the mean     !
   !           velocity and sigma-w and assuming normal distribution, so this option works !
   !           only when IDIFFK is 1 or 7.                                                 !
   !---------------------------------------------------------------------------------------!
   CAP_MAXS  = -20.,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !     The following variables are scalars.                                              !
   !---------------------------------------------------------------------------------------!
   CLD2PREC =  -0.30,     ! Ratio of conversion of condensates to precipitation.   [   ---]
   ZKBMAX   =  4000.,     ! Maximum AGL height in which updrafts can originate.    [     m]
   ZCUTDOWN =  3000.,     ! Maximum AGL height in which downdrafts can originate.  [     m]
   Z_DETR   =  1250.,     ! Top of the downdraft detrainment layer                 [     m]
   MAX_HEAT =   400.,     ! Maximum heating rate allowed for feedback              [ K/day]
   !---------------------------------------------------------------------------------------!





   !---------------------------------------------------------------------------------------!
   !  CLOSURE_TYPE - Closure type to find the reference updraft mass flux.  The options    !
   !                 are the following (case insensitive).                                 !
   !  !----------------------------------------------------------------------------------! !
   !  ! Type | Description                    | Deep | Shal | Reference Paper            ! !
   !  !------+--------------------------------+------+------+----------------------------! !
   !  ! EN   | Ensemble (all closures)        | yes  |  no  | Grell and Dvnyi, 2002    ! !
   !  ! NC   | Ensemble, excluding LO and MC  | yes  | yes  | Grell and Dvnyi, 2002    ! !
   !  ! QI   | Ensemble, with AS and KF only  | yes  | yes  | Grell and Dvnyi, 2002    ! !
   !  ! GR   | Modified quasi-equilibrium ABE | yes  | yes  | Grell, 1993                ! !
   !  ! LO   | Low level omega                | yes  |  no  | Frank and Cohen, 1987      ! !
   !  ! MC   | moisture convergence           | yes  |  no  | Krishnamurti et al., 1983  ! !
   !  ! KF   | Instability removal            | yes  | yes  | Kain and Fritsch, 1990     ! !
   !  ! AS   | Quasi equilibrium of ABE       | yes  | yes  | Arakawa and Schubert, 1974 ! !
   !  !----------------------------------------------------------------------------------! !
   !                                                                                       !
   !---------------------------------------------------------------------------------------!
   CLOSURE_TYPE = 'KF',
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !    The following variables will define the ensemble members other than the reference  !
   ! updraft mass flux which you have just defined.   For the next ones, odd numbers are   !
   ! preferred over even numbers since everything is centred around the reference value.   !
   ! They are all (cloud) dependent.                                                       !
   ! PS1: Use with moderation, these members are multiplicative and may slow down your     !
   !      run.                                                                             !
   ! PS2: The perturbation increments are defined inside the code, feel free to take them  !
   !      out...                                                                           !
   !                                                                                       !
   ! MAXENS_LSF -- Number of different arbitrary mass fluxes for GR/AS/KF dynamic          !
   !               control (it will also create some different numbers for MC)             !
   ! MAXENS_EFF -- Number of precipitation efficiency members                              !
   ! MAXENS_CAP -- Number of static control members, currently changes in cap_maxs.        !
   !---------------------------------------------------------------------------------------!
   MAXENS_LSF = 1,
   MAXENS_EFF = 1,
   MAXENS_CAP = 1,
   !---------------------------------------------------------------------------------------!
$END
!==========================================================================================!
!==========================================================================================!






!==========================================================================================!
!==========================================================================================!
!     This namelist will allow you to set up and choose several of the BRAMS sub-models.   !
!------------------------------------------------------------------------------------------!
$MODEL_OPTIONS


   !---------------------------------------------------------------------------------------!
   ! NADDSC -- number of additional scalar species (e.g., trace gases).  Remember that you !
   !           must change the code to properly initialise the variables.                  !
   !---------------------------------------------------------------------------------------!
   NADDSC   = 0,             ! Number of additional scalar species
   !---------------------------------------------------------------------------------------!


   !---------------------------------------------------------------------------------------!
   ! ICORFLG -- 0 - no Coriolis effect (used for specific and theoretical tests).          !
   !            1 - vertical component of Coriolis, the one that affects horizontal winds  !
   !                the most.  This is the option you should use for most simulations.     !
   !---------------------------------------------------------------------------------------!
   ICORFLG  = 1,             ! Coriolis flag/2D v-component  -  0=off, 1=on
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! IADVEC -- 1 - Original advection scheme                                               !
   !           2 - Monotonic advection scheme, Freitas et al. (2012, in press JAMES).      !
   !---------------------------------------------------------------------------------------!
   IADVEC   = 2,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! IEXEV -- Exner function tendency.                                                     !
   !          1 -- original BRAMS.  This ignores advection, compression and heating.  Not  !
   !               recommended, but this is the only option that works if IF_ADAP is 1.    !
   !          2 -- full equation, as in Medvigy et al. (2005).  Strongly recommended if    !
   !               using terrain-following coordinate (IF_ADAP = 0), and even more so if   !
   !               you will run Lagrangian Particle Dispersion Models afterwards...        !
   !---------------------------------------------------------------------------------------!
   IEXEV    = 2,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! IMASSFLX -- Should the model include mass fluxes in the output.  These are just       !
   !             diagnostic variables but they are important for Lagrangian Particle       !
   !             Dispersion Models.  Values: 0 = no, 1 = yes.                              !
   !---------------------------------------------------------------------------------------!
   IMASSFLX = 1,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !  IBND, JBND  - This controls the lateral boundary conditions for X and Y components,  !
   !  respectively. Options are:                                                           !
   !                                                                                       !
   !  1 -- Klemp and Wilhelmson.  It allows disturbances to propagate out of the domain    !
   !       with little reflection.  This is the commonest option.                          !
   !  2 -- Klemp and Lilly.  No description available                                      !
   !  3 -- Orlanski.  No description available                                             !
   !  4 -- Cyclic. Things leaving from one corner will appear in the opposite corner.      !
   !                                                                                       !
   !  CPHAS -- used if IBND or JBND is 1.  This is the characteristic propagation speed of !
   !           internal gravity waves, given in m/s.  A typical value is 20 m/s.  Using    !
   !           very large values is equivalent to the zero-gradient boundary condition,    !
   !           whereas very small values will cause reflection of the waves back to the    !
   !           domain interior.                                                            !
   !  LSFLG -- used only if IBND or JBND is set to 1.  This variable describes how the     !
   !           lateral boundary condition is to be applied for variables other than the    !
   !           wind normal to the boundary.  Each of this have its own advantages and      !
   !           drawbacks, so check the manual before changing it.                          !
   !           0 -- Zero gradient for inflow and for outflow (typical setting)             !
   !           1 -- Zero gradient for inflow, radiative boundary condition for outflow     !
   !           2 -- Constant inflow, radiative boundary condition for outflow              !
   !           3 -- Constant inflow and outflow                                            !
   !---------------------------------------------------------------------------------------!
   IBND  =   1,
   JBND  =   1,
   CPHAS = 20.,
   LSFLG =   0,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !     These variables control the Rayleigh friction absorbing layer for the top of the  !
   ! domain.                                                                               !
   ! NFPT   -- number of points starting from the top in which the Raleigh "sponge" is to  !
   !           be applied.  IMPORTANT!!! Set this to zero if running with variable INITIAL !
   !           set to 1 or 2, and if running with radiossonde, make sure that your grid    !
   !           goes well into the stratosphere because this should be only applied in      !
   !           stable atmosphere.                                                          !
   ! DISTIM -- Dissipation time scale in seconds.  This should be at least twice the value !
   !           of DTLONG for numerical stability and normally ranges from 60 to 200        !
   !           seconds.  Ignored when NFPT = 0.                                            !
   !---------------------------------------------------------------------------------------!
   NFPT     = 0,
   DISTIM   = 200.,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   !      Radiation parameters                                                             !
   ! ISWRTYP/ILWRTYP -- these variables control which radiation sub-model to use for       !
   !                    shortwave and longwave, respectively.                              !
   !     0.  No radiation.  Useful only for theoretical runs.                              !
   !     1.  Chen and Cotton (1983).  This is a simplified model based on Arctic strato-   !
   !         cumulus, and assumes that any hydrometeor is a cloud droplet.  Its simplicity !
   !         means that it is quite fast, but it tends to make cloudy environments too     !
   !         dark and emitting too much longwave radiation.                                !
   !     2.  Mahrer and Pielke (1977).  The earliest implementation, it is the fastest and !
   !         the simplest method, mostly because it ignores the effect of clouds.  Useful  !
   !         for theoretical runs or for simulations in cloud-free places such as parts of !
   !         the Sahara desert or Sesame Street.                                           !
   !     3.  Harrington et al. (2000).  This method takes into account the different       !
   !         optical properties of each hydrometeor differently, but this has the price of !
   !         making the runs slower.  The recommended method for shortwave, it tends to    !
   !         underestimate  the longwave radiation in the tropics.                         !
   !     4.  CARMA, after Toon et al. (1988).  This method takes into account ice and      !
   !         liquid hydrometeors even though it doesn't distinguish them.  It is as fast   !
   !         as Harrington and give more realistic results.  Recommended option.           !
   !                                                                                       !
   ! ICUMFDBK -- This flag checks whethet to include the effect of clouds from the cumulus !
   !             parametrisation, by calling the radiation model for each cumulus cloud    !
   !             plus the cumulus free environment and averaging them according to the     !
   !             fraction of area.                                                         !
   !             0 -- ignore cumulus effect.                                               !
   !             1 -- include cumulus effect.  This works only for Harrington and CARMA.   !
   !                                                                                       !
   ! RADFRQ   -- How often is the radiation model called (in seconds).                     !
   ! LONRAD   -- Should the radiation change with longitude?                               !
   !             0 -- no.  Useful for theoretical and idealised runs only                  !
   !             1 -- yes.  That's the standard for most runs.                             !
   !---------------------------------------------------------------------------------------!
   ISWRTYP  = 4,
   ILWRTYP  = 4,
   ICUMFDBK = 1,
   RADFRQ   = 600.,
   LONRAD   = 1,
   !---------------------------------------------------------------------------------------!



   !=======================================================================================!
   !=======================================================================================!
   !     The following block of variables control some of the settings for the land        !
   ! surface model.                                                                        !
   !---------------------------------------------------------------------------------------!

      !------------------------------------------------------------------------------------!
      !  NPATCH         -- The meaning of this variable depends on which vegetation model  !
      !                    you are going to use (check ISFCL below).  In any case, this    !
      !                    should be at least 2.                                           !
      !                    LEAF-3.  This is the maximum number of land use classes,        !
      !                             including water, allowed in each grid cell.            !
      !                    ED-2.    This is the maximum number of soil texture classes,    !
      !                             plus one representing water.  This will determine the  !
      !                             number of ED sites.                                    !
      !  NVEGPAT        -- Also depends on ISFCL, but in both cases there is little reason !
      !                    to set this anything other than NPATCH-1.                       !
      !                    LEAF-3.  Number of patches that will be filled with non-water   !
      !                             land use                                               !
      !                    ED-2.    Number of ED sites, which will be filled with soil     !
      !                             types other than water.                                !
      !  MIN_PATCH_AREA -- If this is a LEAF run, then this is the minimum fraction for a  !
      !                    LEAF-3 patch to be considered.  If this is an ED-2 run, this    !
      !                    will be the minimum SITE area (I know it's confusing, but the   !
      !                    definition of PATCH in LEAF is different from ED).              !
      !------------------------------------------------------------------------------------!
      NPATCH         = 2,
      NVEGPAT        = 1,
      MIN_PATCH_AREA = 0.005,
      !------------------------------------------------------------------------------------!



      !------------------------------------------------------------------------------------!
      !  ISFCL -- Which surface model to use:                                              !
      !           0.  No model, specified surface layer gradients.                         !
      !           1.  LEAF-3.  Big leaf model, normal option when ecological effects       !
      !               aren't the main goal, for weather forecasts when speed is a big      !
      !               issue, or the simulation won't cover a long period.                  !
      !           2.  LEAF-3, with TOPMODEL hydrology.  There are some bugs in this        !
      !               model, but it is promising... Feel free to fix the code and let me   !
      !               know ;-).                                                            !
      !           3.  SiB. (defunct).  Taken off because there were bugs.                  !
      !           4.  "LEAF-4" model.  Similar to option 1, but vegetation radiation is    !
      !               solved by two-stream, and transpiration is derived from the Farquhar !
      !               model.  Simple decomposition function to close the carbon budget.    !
      !               It is somewhat similar to big-leaf version of ED, though it doesn't  !
      !               have dynamic vegetation and is faster.                               !
      !           5.  ED-2.  This is a full plant community model, but otherwise shares    !
      !               most of the biophysics with LEAF-3.  Useful when ecological response !
      !               and carbon balance are sought, but it runs a lot slower than LEAF-3. !
      !               Additional setting on ED2_INFO namelist.                             !
      ! DTLEAF -- Used only when ISFCL is 1, 2, or 4, this is the nominal time step for    !
      !           LEAF-3 in seconds.  This should never be greater than 30 seconds, and it !
      !           must not exceed DTLONG.  In case DTLONG < DTLEAF, DTLONG will be used    !
      !           instead.  If DTLEAF is not a divisor of DTLONG, the value will be        !
      !           adjusted to the highest number less than DTLEAF that is a divisor of     !
      !           DTLONG.                                                                  !
      ! NDTVEG -- Time nesting for vegetation fluxes and thermodynamic state.              !
      !------------------------------------------------------------------------------------!
      ISFCL  =   5,
      DTLEAF = 10.,
      NDTVEG =   5,
      !------------------------------------------------------------------------------------!



      !------------------------------------------------------------------------------------!
      ! ISTAR -- Similarity theory model.  The model that computes u*, T*, etc...          !
      ! 1.  (Legacy) BRAMS default, based on Louis (1979, Boundary-Layer Meteorol.).  It   !
      !     uses empirical relations to estimate the flux based on the bulk Richardson     !
      !    number                                                                          !
      !                                                                                    !
      !       All models below use an interative method to find z/L, and the only change   !
      !  is the functional form of the psi functions.                                      !
      !                                                                                    !
      ! 2.  (Legacy) Oncley and Dudhia (1995) model, based on MM5.                         !
      ! 3.  (ED-2.2 default) Beljaars and Holtslag (1991) model. Similar to 2, but it uses !
      !     an alternative method for the stable case that mixes more than the OD95.       !
      ! 4.  (Beta) CLM-based (Oleson et al. 2013, NCAR/TN-503+STR).  Similar to options  2 !
      !     and 3, but it uses special functions to deal with very stable and very stable  !
      !     cases.  It also accounts for different roughness lengths between momentum and  !
      !     heat.                                                                          !
      !------------------------------------------------------------------------------------!
      ISTAR   = 4,
      !------------------------------------------------------------------------------------!



      !------------------------------------------------------------------------------------!
      ! IGRNDVAP -- Methods to find the ground -> canopy conductance.                      !
      !    0.  (ED-2.2 default) Modified Lee and Pielke (1992, J. Appl. Meteorol.), adding !
      !        field capacity, but using beta factor without the square, like in           !
      !        Noilhan and Planton (1989, Mon. Wea. Rev.).                                 !
      !    1.  (Legacy) Test # 1 of Mahfouf and Noilhan (1991, J. Appl. Meteorol.).        !
      !    2.  (Legacy) Test # 2 of Mahfouf and Noilhan (1991, J. Appl. Meteorol.).        !
      !    3.  (Legacy) Test # 3 of Mahfouf and Noilhan (1991, J. Appl. Meteorol.).        !
      !    4.  (Legacy) Test # 4 of Mahfouf and Noilhan (1991, J. Appl. Meteorol.).        !
      !    5.  (Legacy) Combination of test #1 (alpha) and test #2 (soil resistance).      !
      !    In all cases the beta term is modified so it approaches zero as soil moisture   !
      ! goes to dry air soil.                                                              !
      !------------------------------------------------------------------------------------!
      IGRNDVAP   = 0,
      !------------------------------------------------------------------------------------!




      !------------------------------------------------------------------------------------!
      !     The following variables control the minimum values of various velocities in    !
      ! the canopy.  This is needed to avoid the air to be extremely still, or to avoid    !
      ! singularities.  When defining the values, keep in mind that                        !
      ! UBMIN >= UGBMIN >= USTMIN.                                                         !
      !                                                                                    !
      !  UBMIN  -- minimum wind speed at the top of the canopy air space            [ m/s] !
      !  UGBMIN -- minimum wind speed at the leaf level                             [ m/s] !
      !  USTMIN -- minimum friction velocity, u*, in m/s.                           [ m/s] !
      !------------------------------------------------------------------------------------!
      UBMIN          = 1.00,
      UGBMIN         = 0.25,
      USTMIN         = 0.05,
      !------------------------------------------------------------------------------------!




      !------------------------------------------------------------------------------------!
      !     The following variables are used to control the similarity theory model.  For  !
      ! the meaning of these parameters, check Beljaars and Holtslag (1991).               !
      ! GAMM     -- gamma coefficient for momentum, unstable case (dimensionless)          !
      !             Ignored when ISTAR = 1                                                 !
      ! GAMH     -- gamma coefficient for heat, unstable case (dimensionless)              !
      !             Ignored when ISTAR = 1                                                 !
      ! TPRANDTL -- Turbulent Prandtl number                                               !
      !             Ignored when ISTAR = 1                                                 !
      ! RIBMAX   -- maximum bulk Richardson number.                                        !
      !------------------------------------------------------------------------------------!
      GAMM     =  15.,
      GAMH     =   9.,
      TPRANDTL = 0.74,
      RIBMAX   = 0.50,
      !------------------------------------------------------------------------------------!




      !------------------------------------------------------------------------------------!
      ! LEAF_MAXWHC -- Maximum water that can be intercepted by leaves, in kg/m2leaf.      !
      !------------------------------------------------------------------------------------!
      LEAF_MAXWHC     = 0.10,
      !------------------------------------------------------------------------------------!



      !------------------------------------------------------------------------------------!
      !   Prognostic CO2.  Used not only by the surface model, but everywhere...           !
      !                                                                                    !
      ! ICO2   -- CO2 complexity level.                                                    !
      !           0.  Do not solve it (CO2CON(1) will be used as a time invariant CO2      !
      !               mixing ratio whenever needed);                                       !
      !           1.  Solve it initialising with a constant value [CO2CON(1)]              !
      !           2.  Solve and initialise with a horizontally homogeneous profile,        !
      !               filling CO2CON with all values from bottom to top.                   !
      !           3 - Solve and initialise with a RALPH2/SOUND_IN file (not available      !
      !               yet).                                                                !
      ! CO2CON -- Initial constant CO2 value or profile if for all domain.  If ICO2 = 0    !
      !           or 1, only the first value will be considered, and if ICO2=2, then       !
      !           provide one value per level.  Unit here is mol/mol.                     !
      !------------------------------------------------------------------------------------!
      ICO2   =    1,
      CO2CON = 410.,
      !------------------------------------------------------------------------------------!



      !------------------------------------------------------------------------------------!
      ! NVGCON -- LEAF-3 vegetation class to use if IVEGTFLAG is 2 (constant for the       !
      !           entire domain).  Used by both ED and LEAF, although for ED-2 the only    !
      !           thing that matters is the fraction of non-water patches.  Possible       !
      !           values are:                                                              !
      !------------------------------------------------------------------------------------!
      !  0 - Ocean                              |  11 - Tundra                             !
      !  1 - Lakes, rivers, streams             |  12 - Evergreen shrub                    !
      !  2 - Ice cap/glacier                    |  13 - Deciduous shrub                    !
      !  3 - Desert, bare soil                  |  14 - Mixed woodland                     !
      !  4 - Evergreen needleleaf tree          |  15 - Crop/mixed farming, C3 grassland   !
      !  5 - Deciduous needleleaf tree          |  16 - Irrigated crop                     !
      !  6 - Deciduous broadleaf tree           |  17 - Bog or marsh                       !
      !  7 - Evergreen broadleaf tree           |  18 - Wooded grassland                   !
      !  8 - Short grass                        |  19 - Urban and built up                 !
      !  9 - Tall grass                         |  20 - Wetland evergreen broadleaf tree   !
      ! 10 - Semi-desert                        |  21 - Very urban (TEB only)              !
      !------------------------------------------------------------------------------------!
      NVGCON   = 7,
      !------------------------------------------------------------------------------------!


      !------------------------------------------------------------------------------------!
      ! PCTLCON -- Land fraction in case IVEGTFLAG is set to 2. (dimensionless, 0-1).      !
      !            Used by both ED and LEAF.                                               !
      !------------------------------------------------------------------------------------!
      PCTLCON  = 1.,
      !------------------------------------------------------------------------------------!


      !------------------------------------------------------------------------------------!
      ! NSLCON -- LEAF-3 and ED-2 soil texture classes that the model will use when        !
      !           ISOILFLG is set to 2.  Possible values are:                              !
      !------------------------------------------------------------------------------------!
      !   1 -- sand               |   7 -- silty clay loam    |  13 -- bedrock             !
      !   2 -- loamy sand         |   8 -- clayey loam        |  14 -- silt                !
      !   3 -- sandy loam         |   9 -- sandy clay         |  15 -- heavy clay          !
      !   4 -- silty loam         |  10 -- silty clay         |  16 -- clayey sand         !
      !   5 -- loam               |  11 -- clay               |  17 -- clayey silt         !
      !   6 -- sandy clay loam    |  12 -- peat                                            !
      !------------------------------------------------------------------------------------!
      NSLCON   = 16,
      !------------------------------------------------------------------------------------!



      !------------------------------------------------------------------------------------!
      ! ISOILCOL -- LEAF-3 and ED-2 soil colour classes that the model will use when       !
      !             ISOILFLG is set to 2.  Soil classes are from 1 to 20 (1 = lightest;    !
      !             20 = darkest).  The values are the same as CLM-4.0.  The table is the  !
      !             albedo for visible and near infra-red.                                 !
      !------------------------------------------------------------------------------------!
      !                                                                                    !
      !      |-----------------------------------------------------------------------|     !
      !      |       |   Dry soil  |  Saturated  |       |   Dry soil  |  Saturated  |     !
      !      | Class |-------------+-------------| Class +-------------+-------------|     !
      !      |       |  VIS |  NIR |  VIS |  NIR |       |  VIS |  NIR |  VIS |  NIR |     !
      !      |-------+------+------+------+------+-------+------+------+------+------|     !
      !      |     1 | 0.36 | 0.61 | 0.25 | 0.50 |    11 | 0.24 | 0.37 | 0.13 | 0.26 |     !
      !      |     2 | 0.34 | 0.57 | 0.23 | 0.46 |    12 | 0.23 | 0.35 | 0.12 | 0.24 |     !
      !      |     3 | 0.32 | 0.53 | 0.21 | 0.42 |    13 | 0.22 | 0.33 | 0.11 | 0.22 |     !
      !      |     4 | 0.31 | 0.51 | 0.20 | 0.40 |    14 | 0.20 | 0.31 | 0.10 | 0.20 |     !
      !      |     5 | 0.30 | 0.49 | 0.19 | 0.38 |    15 | 0.18 | 0.29 | 0.09 | 0.18 |     !
      !      |     6 | 0.29 | 0.48 | 0.18 | 0.36 |    16 | 0.16 | 0.27 | 0.08 | 0.16 |     !
      !      |     7 | 0.28 | 0.45 | 0.17 | 0.34 |    17 | 0.14 | 0.25 | 0.07 | 0.14 |     !
      !      |     8 | 0.27 | 0.43 | 0.16 | 0.32 |    18 | 0.12 | 0.23 | 0.06 | 0.12 |     !
      !      |     9 | 0.26 | 0.41 | 0.15 | 0.30 |    19 | 0.10 | 0.21 | 0.05 | 0.10 |     !
      !      |    10 | 0.25 | 0.39 | 0.14 | 0.28 |    20 | 0.08 | 0.16 | 0.04 | 0.08 |     !
      !      |-----------------------------------------------------------------------|     !
      !                                                                                    !
      !   Soil type 21 is a special case in which we use the albedo method that used to be !
      ! the default in BRAMS-4.0.6 and ED-2.1.                                             !
      !------------------------------------------------------------------------------------!
      ISOILCOL  = 10,
      !------------------------------------------------------------------------------------!



      !------------------------------------------------------------------------------------!
      !  ZROUGH -- constant roughness, in metres, if for all domain                        !
      !  ALBEDO -- constant albedo (fraction) if not running soil model                    !
      !  SEATMP -- constant sea surface temperature, in Kelvin, if ISSTFLG = 2.            !
      !------------------------------------------------------------------------------------!
      ZROUGH   = .05,
      ALBEDO   = .2,
      SEATMP   = 298.,
      !------------------------------------------------------------------------------------!



      !------------------------------------------------------------------------------------!
      !  The following variables are used only when ISFCL is 0.                            !
      ! DTHCON -- constant potential temperature gradient difference between the first     !
      !           atmospheric layer and the surface [K]. Negative values mean that the     !
      !           fictious surface is warmer than the air aloft.                           !
      ! DRTCON -- constant water vapour mixing ratio difference between the first          !
      !           atmospheric layer and the surface [kg/kg].  Negative values mean that    !
      !           the fictious surface is more humid than the air aloft.                   !
      !------------------------------------------------------------------------------------!
      DTHCON   = 0.,
      DRTCON   = 0.,
      !------------------------------------------------------------------------------------!


      !------------------------------------------------------------------------------------!
      !     The following variables control the soil moisture initialisation.  They are    !
      ! used by both ED and LEAF.                                                          !
      !                                                                                    !
      ! SOIL_MOIST      -- How should the soil moisture be initialised?                    !
      !                    'n' -- Homogeneous, using SLMSTR                                !
      !                    'i' -- Initial, using the file provided by USDATA_IN only when  !
      !                           RUNTYPE = 'INITIAL'.  This is the typical setting when   !
      !                           soil moisture data are available.                        !
      !                    'h' -- History, using the file provided by USDATA_IN only when  !
      !                           RUNTYPE = 'HISTORY'.                                     !
      !                    'a' -- Using this means that USDATA_IN will be used for both    !
      !                           INITIAL and HISTORY runs.  Useful as a way to "nudge"    !
      !                           soil moisture.                                           !
      ! SOIL_MOIST_FAIL -- What should the model do in case it doesn't find the soil file: !
      !                    's' -- Stop the run.                                            !
      !                    'h' -- Give up and initialise soil moisture with SLMSTR         !
      !                           (horizontally homogeneous).                              !
      !                    'l' -- Try to find files with dates of up to 5 days before the  !
      !                           initial time, and if none are available, stop the run.   !
      ! USDATA_IN       -- Input soil moisture path and prefix                             !
      ! USMODEL_IN      -- Path and prefix of the file that will be interpolated to the    !
      !                    simulation grid.  IMPORTANT.  If you change the soil map or     !
      !                    soil properties in general, make sure to delete the file before !
      !                    running the model again, otherwise you may have unpleasant      !
      !                    surprises.                                                      !
      !------------------------------------------------------------------------------------!
      SOIL_MOIST = 'i',
      SOIL_MOIST_FAIL = 's',
      USDATA_IN  = '/n/gstore/Labs/moorcroft_lab_protected/data/brams_data/soilmoisture/GPNR/GL_SM.GPNR.',
      USMODEL_IN = '/mypath/surfa/lesmo',
      !------------------------------------------------------------------------------------!




      !------------------------------------------------------------------------------------!
      !    Soil grid and initial conditions in case no file is provided. Provide NZG       !
      ! values for the following variables (always from deepest to shallowest layer).      !
      !                                                                                    !
      ! SLZ     - depth of the bottom of each soil layer [m].  Values must be negative.    !
      ! SLMSTR  - this is the initial soil moisture, now given as the soil moisture index. !
      !              -1 = dry air soil moisture                                            !
      !               0 = wilting point                                                    !
      !               1 = field capacity                                                   !
      !               2 = porosity (saturation)                                            !
      !           Values can be fraction, in which case they will be linearly interpolated !
      !           between the special points (e.g. 0.5 will put soil moisture half way     !
      !           between the wilting point and field capacity).                           !
      ! STGOFF  - initial temperature offset (soil temperature = air temperature + offset) !
      !------------------------------------------------------------------------------------!
      SLZ     =   -6.000,-4.914,-3.948,-3.100,-2.366,-1.741,-1.222,-0.804,-0.482,-0.249,
                  -0.098,-0.020,
      SLMSTR  =    1.000, 1.000, 1.000, 1.000, 1.000, 1.000, 1.000, 1.000, 1.000, 1.000,
                   1.000, 1.000,
      STGOFF  =    0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000,
                   0.000, 0.000,
      !------------------------------------------------------------------------------------!




      !------------------------------------------------------------------------------------!
      ! ISOILBC -- This controls the soil moisture boundary condition at the bottom.       !
      !            For regional runs, it is wise to use options 1 or 2, especially for     !
      !            long runs.                                                              !
      !            0.  Flat bedrock.  Flux from the bottom of the bottommost layer is 0.   !
      !            1.  Gravitational flow (free drainage).  The flux from the bottom of    !
      !                the bottommost layer is due to gradient of height only.             !
      !            2.  Lateral drainage.  Similar to free drainage, but the gradient is    !
      !                reduced by the slope not being completely vertical.  The reduction  !
      !                is controlled by variable SLDRAIN.  In the future options 0, 1, and !
      !                2 may be combined into a single option.                             !
      !            3.  Aquifer.  Soil moisture of the ficticious layer beneath the bottom  !
      !                is always at saturation.                                            !
      !------------------------------------------------------------------------------------!
      ISOILBC  =   1,
      !------------------------------------------------------------------------------------!




      !------------------------------------------------------------------------------------!
      ! SLDRAIN -- This is used only when ISOILBC is set to 2.  In this case SLDRAIN is    !
      !            the equivalent slope that will slow down drainage.  If this is set to   !
      !            zero, then lateral drainage reduces to flat bedrock, and if this is set !
      !            to 90, then lateral drainage becomes free drainage.  SLDRAIN must be    !
      !            between 0 and 90.                                                       !
      !------------------------------------------------------------------------------------!
      SLDRAIN        = 10.,
      !------------------------------------------------------------------------------------!




      !------------------------------------------------------------------------------------!
      ! IPERCOL -- This controls percolation and infiltration.                             !
      !            0.  (ED-2.2 default) Based on LEAF-3 (Walko et al. 2000, J. Appl.       !
      !                Meteorol.). This assumes soil conductivity constant and for the     !
      !                temporary surface water, it sheds liquid in excess of a 1:9 liquid- !
      !                -to-ice ratio through percolation.  Temporary surface water exists  !
      !                only if the top soil layer is at saturation.                        !
      !            1.  (Beta). Constant soil conductivity, and it uses the percolation     !
      !                model as in Anderson (1976, NOAA technical report NWS 19).          !
      !                Temporary surface water may exist after a heavy rain event, even if !
      !                the soil doesn't saturate.                                          !
      !            2.  (Beta). Similar to 1, but soil conductivity decreases with depth    !
      !                even for constant soil moisture.                                    !
      !------------------------------------------------------------------------------------!
      IPERCOL         = 0,
      !------------------------------------------------------------------------------------!





      !------------------------------------------------------------------------------------!
      ! RUNOFF_TIME -- In case a temporary surface water (TSW) is created, this is the     !
      !                "e-folding lifetime" of the TSW in seconds due to runoff.  If you   !
      !                don't want runoff to happen, set this to 0.                         !
      !------------------------------------------------------------------------------------!
      RUNOFF_TIME     = 3600.0,
      !------------------------------------------------------------------------------------!



      !------------------------------------------------------------------------------------!
      ! IF_URBAN_CANOPY -- The urban canopy parametrisation, currently not used.           !
      !                    0 - no, 1 - yes but no in reality.                              !
      !------------------------------------------------------------------------------------!
      IF_URBAN_CANOPY =0,
      !------------------------------------------------------------------------------------!

   !=======================================================================================!
   !=======================================================================================!






   !=======================================================================================!
   !=======================================================================================!






   !=======================================================================================!
   !=======================================================================================!
   !     This block controls the turbulence and atmospheric boundary layer model.          !
   !---------------------------------------------------------------------------------------!


   
      !------------------------------------------------------------------------------------!
      ! IDIFFK -- The eddy diffusion model, one value for each grid you are running.       !
      !           1.  Horizontal deformation, vertical is Helfand and Labraga (1988)       !
      !               model, Mellor-Yamada Level 2.5                                       !
      !           2.  Anisotropic deformation, using different coefficients for horizontal !
      !               and vertical diffusivity.                                            !
      !           3.  Isotropic deformation, using the same coefficients for horizontal    !
      !               and vertical diffusivity.                                            !
      !           4.  Deardorff (1980) TKE model, isotropic.                               !
      !           5.  S. Trini Castelli closure                                            !
      !           6.  Another S. Trini Castelli closure                                    !
      !           7.  Horizontal deformation, vertical is Nakanishi and Niino (2004)       !
      !               model, Mellor-Yamada Level 2.5                                       !
      !                                                                                    !
      ! Important.  If you are running the new Grell cumulus parametrisation, use          !
      !             IDIFFK = 1, or preferrably, 7.  Options 3, 4, 5, 6 should be used only !
      !             when your horizontal grid resolution is of the same order of magnitude !
      !             as your vertical grid resolution.                                      !
      !------------------------------------------------------------------------------------!
      IDIFFK  = 7,7,7,
      !------------------------------------------------------------------------------------!




      !------------------------------------------------------------------------------------!
      ! IBRUVAIS -- How to compute the Brunt-Visl frequency:                            !
      !             1.  Traditional method -- (g/theta_v d(theta_v)/dz)^;                 !
      !             2.  Original BRAMS method, the so-called wet enhancement.              !
      !                 This violates the 1st and 2nd law of thermodynamics, creates a     !
      !                 second ITCZ and ignores that we do have the actual hydrometeor     !
      !                 mixing ratios.  In case you didn't get it, this is soooooooo       !
      !                 deprecated...                                                      !
      !------------------------------------------------------------------------------------!
      IBRUVAIS = 1,
      !------------------------------------------------------------------------------------!




      !------------------------------------------------------------------------------------!
      ! IBOTFLX -- How to compute the horizontal advection flux.                           !
      !            0.  Original BRAMS, with a bug.  Useful if you feel like running the    !
      !                models with a known bug.                                            !
      !            1.  Meesters et al. (2008) bug fix.                                     !
      !------------------------------------------------------------------------------------!
      IBOTFLX  = 1,
      !------------------------------------------------------------------------------------!



      !------------------------------------------------------------------------------------!
      ! IHORGRAD -- How to compute the horizontal gradients.                               !
      !             1.  Horizontal gradient is found from the decomposed terrain-following !
      !                 gradients.  This is the safest method for most applications.       !
      !             2.  True horizontal gradient.  This doesn't conserve mass (a bad       !
      !                 thing), but it allows fine vertical grids. But it doesn't conserve !
      !                 mass, which is a bad thing...                                      !
      !------------------------------------------------------------------------------------!
      IHORGRAD = 1,
      !------------------------------------------------------------------------------------!


      
      !------------------------------------------------------------------------------------!
      ! CSX   -- One value for each grid, used only when IDIFFK is 1, 2, or 7.             !
      !          This is the coefficient used to compute the horizontal diffusion          !
      !          coefficients, which will be CSX * the X-direction grid spacing.           !
      !          Recommended value is 0.32                                                 !
      ! CSZ   -- One value for each grid, used only when IDIFFK is 2 or 3.  It works       !
      !          the same way as CSX, but using the Z-direction grid spacing.              !
      !          Recommended value is around 0.32                                          !
      ! XKHKM -- One value for each grid, used only when IDIFFK is 1, 2, or 7.             !
      !          This is the parameter that specify the ratio of strength of horizontal    !
      !          diffusion coefficients between scalars and velocity.  Recommended         !
      !          value is 3.                                                               !
      ! ZKHKM -- One value for each grid, used only when IDIFFK is 2 or 3.                 !
      !          Similar to XKHKM, but applied to vertical diffusion.  Recommended         !
      !          value is 3.                                                               !
      !------------------------------------------------------------------------------------!
      CSX     = .32,.32,
      CSZ     = .32,.32,
      XKHKM   =  3., 3.,
      ZKHKM   =  3., 3.,
      !------------------------------------------------------------------------------------!



      !------------------------------------------------------------------------------------!
      !      The following variables correspond to the "A", "B", and "C" constants for the !
      ! Nakanishi and Niino (2004) turbulence closure.  This is used only when IDIFFK is   !
      ! set to 7.                                                                          !
      ! NNA -- A1 and A2                                                                   !
      ! NNB -- B1 and B2                                                                   !
      ! NNC -- C1, C2, C3, C4, and C5                                                      !
      !------------------------------------------------------------------------------------!
      NNA = 1.18, 0.665,
      NNB = 24.0, 15.0 ,
      NNC = 0.137, 0.700, 0.323, 0.00, 0.20,
      !------------------------------------------------------------------------------------!



      !------------------------------------------------------------------------------------!
      !      The following values can be used to scale the horizontal eddy viscosity       !
      ! coefficient to the typical value from deformation K (AKSCAL).  These are used only !
      ! when IDIFFK is 1, 2, or 7.  One value for each grid, please.                       !
      ! AKMIN  -- Parameter used to impose a minimum value on the horizontal diffusion     ! 
      !           coefficients throughout the domain.  It is suggested to try values as    !
      !           low as 0.1, but usually values around 1.0 are needed to get rid of most  !  
      !           of the noise.                                                            !
      ! AKMAX  -- Maximum value to be used at high elevations, in case you want the        !
      !           parameter to increase with height.  Setting this to zero will make AKMIN !
      !           constant.  This is a very dangerous option, use with caution.            !
      ! HGTMIN -- Height [m] above which AKSCAL will start increasing from AKMIN to AKMAX. !
      ! HGTMAX -- Height [m] above which AKSCAL will remain constant and equal to AKMAX.   !
      !------------------------------------------------------------------------------------!
      AKMIN   =   1.0,   1.0,
      AKMAX   =   0.0,   0.0,
      HGTMIN  = 1000., 1000.,
      HGTMAX  = 3500., 3500.,
      !---------------------------------------------------------------------------------------!

   !=======================================================================================!
   !=======================================================================================!






   !=======================================================================================!
   !=======================================================================================!
   !     The following block controls how BRAMS should solve the water substance, and in   !
   ! particular the bulk microphysics model.                                               !
   !---------------------------------------------------------------------------------------!


      !------------------------------------------------------------------------------------!
      ! LEVEL -- Moisture complexity level, or number of phases that water may exist in    !
      !          BRAMS.                                                                    !
      !                                                                                    !
      !          0.  Water doesn't exist in any phase.  Useful for idealised cases only.   !
      !          1.  Water may exist in vapour phase only, even if the air becomes super-  !
      !              saturated.  Useful for idealised cases only.                          !
      !          2.  Water vapour may condensate and form cloud droplets that don't        !
      !              precipitate.  This is simple, but it is a fast alternative for        !
      !              coarse simulations in areas where stratiform precipitation is low.    !
      !          3. All phases may exist, and the hydrometeors are solved using the Walko  !
      !             et al. (1995) bulk microphysics model.  This is the standard and       !
      !             preferred method for most cases.                                       !
      !------------------------------------------------------------------------------------!
      LEVEL   = 3,
      !------------------------------------------------------------------------------------!


      !------------------------------------------------------------------------------------!
      !       Microphysics settings, used only LEVEL is set to 3.  The parameters work the !
      ! same way for all hydrometeors,  namelycloud droplets (CLOUD, C), rain drops        !
      ! (RAIN,R), pristine ice (PRIS,P), snow flakes (SNOW,S), aggregates (AGGR,A),        !
      ! graupel (GRAUP,G), and hail (HAIL, H).  Read the manual before changing these      !
      ! values.                                                                            !
      !                                                                                    !
      ! IXXXX -- the microphysics flag:                                                    !
      !          0.  don't allow the hydrometeor (it can't be used by ICLOUD and           !
      !          1.  specify the mean number concentration [#/m3].  Normally used only     !
      !              for ICLOUD.                                                           !
      !          2.  Specify the mean diameter [m] in ?PARM. Normally not used by ICLOUD   !
      !          3.  Specify the y-intercept value of the number concentration, assumed at !
      !              zero diameter, and using a Marshall-Palmer distribution.              !
      !          4.  Specify the number concentration of hydrometeor (#/kg of air).        !
      !              Normally used by ICLOUD only.                                         !
      !          5.  Prognostic number concentration and diameter.  Except for IPRIS =0,   !
      !              this is the only option for IPRIS.  Also, if any of the others is     !
      !              set to 5 (except ICLOUD), then all the hydrometeors (except cloud)    !
      !              will become prognostic.                                               !
      !------------------------------------------------------------------------------------!
      ICLOUD  =     4,
      IRAIN   =     2,
      IPRIS   =     5,
      ISNOW   =     2,
      IAGGR   =     2,
      IGRAUP  =     2,
      IHAIL   =     2,
      !------------------------------------------------------------------------------------!



      !------------------------------------------------------------------------------------!
      ! ?PARM -- It depends on IXXXX.  CPARM has some especial meanings, though. If ICLOUD !
      !          is set to 5, CPARM represents the concentration of CCN.  Otherwise, the   !
      !          value is ignored if the IXXXX variable is set to 5.                       !
      !------------------------------------------------------------------------------------!
      CPARM   =  3.e8,  ! cloud droplets, or less frequently, CCN
      RPARM   =  1e-3,  ! rain drops
      PPARM   =  0.,    ! pristine ice (ignored as IPRIS must be 5)
      SPARM   =  1e-3,  ! snow
      APARM   =  1e-3,  ! aggregates
      GPARM   =  1e-3,  ! graupel
      HPARM   =  3e-3,  ! hail
      !------------------------------------------------------------------------------------!



      !------------------------------------------------------------------------------------!
      !      Parameter with 7 components, one for each hydrometeor, in this order:         !
      ! 1.  Cloud droplets                                                                 !
      ! 2.  Rain drops                                                                     !
      ! 3.  Pristince ice                                                                  !
      ! 4.  Snow                                                                           !
      ! 5.  Aggregates                                                                     !
      ! 6.  Graupel                                                                        !
      ! 7.  Hail                                                                           !
      !                                                                                    !
      !     This specifies the shape of the gamma distribution for each hydrometeor.       !
      ! Values of 1 create Marshall-Palmer distribution, whilst high values will make the  !
      ! spectrum narrower.  Values of 2. are good starting points, but you may want to     !
      ! play with these values.                                                            !
      !------------------------------------------------------------------------------------!
      GNU     = 5.,1.,5.,1.,1.,1.,1.,
      !------------------------------------------------------------------------------------!

   !=======================================================================================!
   !=======================================================================================!

$END
!==========================================================================================!
!==========================================================================================!






!==========================================================================================!
!==========================================================================================!
!    This namelist controls several other parameters unique to ED-2.  These values matter  !
! only when ISFCL = 5.                                                                     !
!------------------------------------------------------------------------------------------!
$ED2_INFO

   !---------------------------------------------------------------------------------------!
   ! DTLSM  -- Basic time step [seconds] for photosynthesis, and maximum step for thermo-  !
   !           dynamics. Recommended values range from 240 to 900 seconds when using the   !
   !           4th-order Runge Kutta integrator (INTEGRATION_SCHEME=1). We discourage      !
   !           using the forward Euler scheme (INTEGRATION_SCHEME=0), but in case you      !
   !           really want to use it, set the time step to 60 seconds or shorter.          !
   !---------------------------------------------------------------------------------------!
   DTLSM  = 600.0,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   ! MONTH_YRSTEP -- Month in which the yearly time step (patch dynamics) should occur.    !
   !---------------------------------------------------------------------------------------!
   MONTH_YRSTEP = 7,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! CO2_OFFSET -- This is for the case in which plants have grown using a different CO2   !
   !               concentration and BRAMS, and you don't want the plants to be shocked by !
   !               the sudden change in CO2.  Otherwise, just make this number zero.       !
   !               (positive values will make CO2 higher for plants, and negative number   !
   !               will make it lower).                                                    !
   !---------------------------------------------------------------------------------------!
   CO2_OFFSET = 0.,
   !---------------------------------------------------------------------------------------!


   !---------------------------------------------------------------------------------------!
   ! ED2 File output.  For all the variables 0 means no output and 3 means HDF5 output.    !
   !                                                                                       !
   ! IFOUTPUT -- Fast analysis.  These are mostly polygon-level averages, and the time     !
   !             interval between files is determined by FRQANL                            !
   ! IDOUTPUT -- Daily means (one file per day)                                            !
   ! IMOUTPUT -- Monthly means (one file per month)                                        !
   ! IQOUTPUT -- Monthly means of the diurnal cycle (one file per month).  The number      !
   !             of points for the diurnal cycle is 86400 / FRQANL                         !
   ! IYOUTPUT -- Annual output.                                                            !
   ! ITOUTPUT -- Instantaneous fluxes, mostly polygon-level variables, one file per year.  !
   ! IOOUTPUT -- Observation time output. Equivalent to IFOUTPUT, except only at the       !
   !             times specified in OBSTIME_DB.                                            !
   ! ISOUTPUT -- restart file, for HISTORY runs.  The time interval between files is       !
   !             determined by FRQHIS                                                      !
   !---------------------------------------------------------------------------------------!
   IFOUTPUT  =  0,
   IDOUTPUT  =  0,
   IMOUTPUT  =  0,
   IQOUTPUT  =  3,
   IYOUTPUT  =  0,
   ITOUTPUT  =  0,
   IOOUTPUT  =  0,
   ISOUTPUT  =  0,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !     The following variables control whether site-, patch-, and cohort-level time      !
   ! means and mean sum of squares should be included in the output files or not.          !
   !                                                                                       !
   ! Reasons to add them:                                                                  !
   ! a. Sub-polygon variables are more comprehensive.                                      !
   ! b. Explore heterogeneity within a polygon and make interesting analysis.              !
   ! c. More chances to create cool 3-D plots.                                             !
   !                                                                                       !
   ! Reasons to NOT add them:                                                              !
   ! a. Output files will become much larger!                                              !
   ! b. In regional/coupled runs, the output files will be ridiculously large.             !
   ! c. You may fill up the disk.                                                          !
   ! d. Other people's job may crash due to insufficient disk space.                       !
   ! e. You will gain a bad reputation amongst your colleagues.                            !
   ! f. And it will be entirely your fault.                                                !
   !                                                                                       !
   !     Either way, polygon-level averages are always included, and so are the instan-    !
   ! taneous site-, patch-, and cohort-level variables needed for resuming the run.        ! 
   !                                                                                       !
   ! IADD_SITE_MEANS   --  Add site-level averages to the output   (0 = no; 1 = yes)       !
   ! IADD_PATCH_MEANS  --  Add patch-level averages to the output  (0 = no; 1 = yes)       !
   ! IADD_COHORT_MEANS --  Add cohort-level averages to the output (0 = no; 1 = yes)       !
   !                                                                                       !
   !---------------------------------------------------------------------------------------!
   IADD_SITE_MEANS   = 0,
   IADD_PATCH_MEANS  = 0,
   IADD_COHORT_MEANS = 0,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   ! ATTACH_METADATA -- Flag for attaching metadata to HDF datasets.  Attaching metadata   !
   !                    will aid new users in quickly identifying dataset descriptions but !
   !                    will compromise I/O performance significantly.                     !
   !                    0 = no metadata, 1 = attach metadata                               !
   !---------------------------------------------------------------------------------------!
   ATTACH_METADATA = 0,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   ! OUTFAST/OUTSTATE -- these control the number of times per file.                       !
   !                      0. Each time gets its own file                                   !
   !                     -1. One file per day                                              !
   !                     -2. One file per month                                            !
   !                    > 0. Multiple timepoints can be recorded to a single file reducing !
   !                         the number of files and i/o time in post-processing.          !
   !                         Multiple timepoints should not be used in the history files   !
   !                         if you intend to use these for HISTORY runs.                  !
   !---------------------------------------------------------------------------------------!
   OUTFAST    = 0,
   OUTSTATE   = 0,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! FFILOUT -- Path and prefix for analysis files (all but history/restart).              !
   ! SFILOUT -- Path and prefix for history files.                                         !
   !---------------------------------------------------------------------------------------!
   FFILOUT   = '/mypath/ecoss/support',
   SFILOUT   = '/mypath/ecort/support',
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! IED_INIT_MODE -- This controls how the plant community and soil carbon pools are      !
   !                  initialised.                                                         !
   !                                                                                       !
   !   -1.  Start from a true bare ground run, or an absolute desert run.  This will       !
   !        never grow any plant.                                                          !
   !    0.  Start from near-bare ground (only a few seedlings from each PFT to be included !
   !        in this run).                                                                  !
   !    1.  (Deprecated) This will use history files written by ED-1.0.  It will read the  !
   !        ecosystem state (like biomass, LAI, plant density, etc.), but it will start    !
   !        the thermodynamic state as a new simulation.                                   !
   !    2.  (Deprecated) Same as 1, but it uses history files from ED-2.0 without multiple !
   !        sites, and with the old PFT numbers.                                           !
   !    3.  Same as 1, but using history files from ED-2.0 with multiple sites and         !
   !        TOPMODEL hydrology.                                                            !
   !    4.  Same as 1, but using ED2.1 H5 history/state files that take the form:          !
   !        'dir/prefix-gxx.h5'                                                            !
   !        Initialization files MUST end with -gxx.h5 where xx is a two digit integer     !
   !        grid number.  Each grid has its own initialization file.  As an example, if a  !
   !        user has two files to initialize their grids with:                             !
   !        example_file_init-g01.h5 and example_file_init-g02.h5                          !
   !        SFILIN = 'example_file_init'                                                   !
   !                                                                                       !
   !    5.  This is similar to option 4, except that you may provide several files         !
   !        (including a mix of regional and POI runs, each file ending at a different     !
   !        date).  This will not check date nor grid structure, it will simply read all   !
   !        polygons and match the nearest neighbour to each polygon of your run.  SFILIN  !
   !        must have the directory common to all history files that are sought to be used,! 
   !        up to the last character the files have in common.  For example if your files  !
   !        are                                                                            !
   !        /mypath/P0001-S-2000-01-01-000000-g01.h5,                                      !
   !        /mypath/P0002-S-1966-01-01-000000-g02.h5,                                      !
   !        ...                                                                            !
   !        /mypath/P1000-S-1687-01-01-000000-g01.h5:                                      !
   !        SFILIN = '/mypath/P'                                                           !
   !                                                                                       !
   !    6 - Initialize with ED-2 style files without multiple sites, exactly like option   !
   !        2, except that the PFT types are preserved.                                    !
   !                                                                                       !
   !    7.  Initialize from a list of both POI and gridded ED2.1 state files, organized    !
   !        in the same manner as 5.  This method overrides the soil database info and     !
   !        takes the soil texture and soil moisture information from the initializing     !
   !        ED2.1 state file.  It allows for different layering, and assigns via nearest   !
   !        neighbor.                                                                      !
   !---------------------------------------------------------------------------------------!
   IED_INIT_MODE   = 5,
   !---------------------------------------------------------------------------------------!


   !---------------------------------------------------------------------------------------!
   ! EDRES -- Expected input resolution for ED2.0 files.  This is not used unless          !
   !          IED_INIT_MODE = 3.                                                           !
   !---------------------------------------------------------------------------------------!
   EDRES  = 1.0,
   !---------------------------------------------------------------------------------------!


   !---------------------------------------------------------------------------------------!
   ! SFILIN --  The meaning and the size of this variable depends on the type of run, set  !
   !            at variable NL%RUNTYPE.                                                    !
   !                                                                                       !
   ! 1. INITIAL.  Then this is the path+prefix of the previous ecosystem state.  This has  !
   !              dimension of the number of grids so you can initialize each grid with a  !
   !              different dataset.  In case only one path+prefix is given, the same will !
   !              be used for every grid.  Only some ecosystem variables will be set up    !
   !              here, and the initial condition will be in thermodynamic equilibrium.    !
   !                                                                                       !
   ! 2. HISTORY.  This is the path+prefix of the history file that will be used.  Only the !
   !              path+prefix will be used, as the history for every grid must have come   !
   !              from the same simulation.                                                !
   !---------------------------------------------------------------------------------------!
   SFILIN   = '/n/gstore/Labs/moorcroft_lab_protected/data/ed2_data/restarts_sci_006/potveg/PVE_',
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   ! ISLCOLFLG -- This controls how to initialise soil colour.  This must be a list with   !
   !              N_ED_REGION+N_POI elements.  The first N_ED_REGION elements correspond   !
   !              to each gridded domain (from first to last).  Elements between           !
   !              N_ED_REGION+1 and N_ED_REGION+N_POI correspond to the polygons of        !
   !              interest (from 1 to N_POI.  Options are:                                 !
   !             1 -- Read in soil colour class from the files set in COLOR_DATABASE.      !
   !             2 -- Assign either the value set by ISOILCOL (see below).                 !
   !---------------------------------------------------------------------------------------!
   ISLCOLFLG = 2,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   !     These variables are used to define the additional soil properties needed for      !
   ! SOIL_HYDRO_SCHEME=2.  These should not be XML parameters because they describe        !
   ! site-specific soil characteristics, and the code will be eventually modified to allow !
   ! reading these characteristics from HDF5 files (similarly to soil depth, colour, and   !
   ! texture).  Eventually SOC effects on soil will be made dynamic and consistent with    !
   ! simulated soil carbon content (and thus eliminating the need for SLSOC).              !
   !                                                                                       !
   ! SLSOC   -- Prescribed mass fraction of soil organic carbon [ kg/kg].                  !
   ! SLPH    -- Prescribed soil potential of hydrogen (pH)      [  0-14].                  !
   ! SLCEC   -- Prescribed cation exchange capacity             [mol/kg].                  !
   ! SLDBD   -- Prescribed dry bulk density                     [ kg/m3].                  !
   !                                                                                       !
   !     They are used only when ISOILFLG is 2, both values are between 0. and 1., and     !
   ! their sum doesn't exceed 1.  In case ISOILFLG is 2 but the fractions do not meet the  !
   ! criteria, ED-2 uses NSLCON instead.                                                   !
   !---------------------------------------------------------------------------------------!
   SLSOC   = 0.0266,
   SLPH    = 4.7,
   SLCEC   = 0.124,
   SLDBD   = 1192.,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !  Input databases                                                                      !
   !  VEG_DATABASE     -- vegetation database, used only to determine the land/water mask. !
   !                      Fill with the path and the prefix.                               !
   !  SOIL_DATABASE    -- soil database, used to determine the soil type.  Fill with the   !
   !                      path and the prefix.                                             !
   !  SLCOL_DATABASE   -- If ISLCOLFLG=1, this variable specifies the path and prefix of   !
   !                      soil colour data base.                                           !
   !  LU_DATABASE      -- land-use change disturbance rates database, used only when       !
   !                      IANTH_DISTURB is set to 1.  Fill with the path and the prefix.   !
   !  PLANTATION_FILE  -- Character string for the path to the forest plantation fraction  !
   !                      file.  This is used only when IANTH_DISTURB is set to 1 and      !
   !                      the user wants to simulate forest plantations.  Otherwise, leave !
   !                      it empty (PLANTATION_FILE='')                                    !
   !  THSUMS_DATABASE  -- input directory with dataset to initialise chilling-degree and   !
   !                      growing-degree days, which is used to drive the cold-deciduous   !
   !                      phenology (you must always provide this, even when your PFTs are !
   !                      not cold deciduous).                                             !
   !  OBSTIME_DB       -- File containing times of desired IOOUTPUT                        !
   !                      Reference file: /ED/run/obstime_template.time                    !
   !  SOILSTATE_DB     -- If ISOILSTATEINIT=1, this variable specifies the full path of    !
   !                      the file that contains soil moisture and temperature             !
   !                      information.                                                     !
   !  SOILDEPTH_DB     -- If ISOILDEPTHFLG=1, this variable specifies the full path of the !
   !                      file that contains soil moisture and temperature information.    !
   !---------------------------------------------------------------------------------------!
   VEG_DATABASE    = '/n/gstore/Labs/moorcroft_lab_protected/data/ed2_data/oge2OLD/OGE2_',
   SOIL_DATABASE   = '/n/gstore/Labs/moorcroft_lab_protected/data/ed2_data/soil_ed22/Quesada+RADAM+IGBP/Quesada+RADAM+IGBP_',
   SLCOL_DATABASE    = '/mypath/soil_data/colour/LC2007JGRB/LC2007JGRB_',
   LU_DATABASE     = '/n/gstore/Labs/moorcroft_lab_protected/mlongo/scenarios/glu-3.3.1+sa1.bau/one/glu-3.3.1+sa1.bau-',
   PLANTATION_FILE = '',
   LU_RESCALE_FILE = '/n/gstore/Labs/moorcroft_lab_protected/data/ed2_data/restarts_sci_006/rescale/SA1relative.lu.area-22km-2008.txt',
   THSUMS_DATABASE = '/n/gstore/Labs/moorcroft_lab_protected/data/ed2_data/ed_inputs/',
   OBSTIME_DB      = '', !Reference file: /ED/run/obstime_template.time
   SOILSTATE_DB    = '/n/gstore/Labs/moorcroft_lab_protected/data/ed2_data/ed_inputs/STW1996OCT.dat',
   SOILDEPTH_DB    = '/n/gstore/Labs/moorcroft_lab_protected/data/ed2_data/ed_inputs/soil_depths.dat',
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   ! ISOILSTATEINIT -- How to initialise soil moisture:                                    !
   !                   0.  Use constant soil moisture, as defined by SLMSTR                !
   !                   1.  Read from SOILSTATE_DB                                          !
   !                   2.  Copy from LEAF-3 initialisation (if you use ISOILSTATEINIT =2,  !
   !                       prefer using isoilflg = 1 to avoid soil type mismatches.  The   !
   !                       model will handle this inconsistency, but you may have some     !
   !                       soils that are too dry or too wet).                             !
   ! ISOILDEPTHFLG  -- How to initialise the soil depth:                                   !
   !                   0.  Constant, always defined by the first (deepest) SLZ layer.      !
   !                   1.  Read from SOILDEPTH_DB (ED-1.0 style, ascii file).              !
   !                   2.  Read from SOILDEPTH_DB (ED-2.2 style, hdf5 files + header).     !
   !---------------------------------------------------------------------------------------!
   ISOILSTATEINIT = 2,
   ISOILDEPTHFLG  = 0,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   ! SOIL_HYDRO_SCHEME -- This controls the pedotransfer functions in ED-2.2.              !
   !                                                                                       !
   !    0. (ED-2.2 default).  Matric potential and hydraulic conductivity are determined   !
   !       using the Campbell(-Mualem) approach.  Pedotransfer function                    !
   !       parameters are determined using the Cosby et al. (1984) equations, which        !
   !       depend only on sand, silt, and clay fractions and are fitted for US soils.      !
   !    1. (Beta).  Matric potential and hydraulic conductivity are determined             !
   !       using the Campbell(-Mualem) approach, although not assuming that                !
   !       residual moisture is zero.  Pedotransfer function parameters are determined     !
   !       using the Tomasella and Hodnett (1998) equations, which depend only on          !
   !       sand, silt, and clay fractions and are fitted for tropical soils.               !
   !    2. (Beta).  Matric potential and hydraulic conductivity are determined using the   !
   !       van Genuchten(-Mualem) approach. Pedotransfer function parameters are           !
   !       determined using the Hodnett and Tomasella (2002) equations, which depend on    !
   !       sand, silt, and clay fractions, soil organic carbon content, pH, cation         !
   !       exchange capacity, and dry bulk density.                                        !
   !                                                                                       !
   !    The reference below provides details on all the approaches above:                  !
   !                                                                                       !
   !    Marthews TR, Quesada CA, Galbraith DR, Malhi Y, Mullins CE, Hodnett MG, Dharssi I, !
   !       2014. High-resolution hydraulic parameter maps for surface soils in tropical    !
   !       South America. Geosci. Model Dev. 7 (3), 711-723, doi:10.5194/gmd-7-711-2014.   !
   !---------------------------------------------------------------------------------------!
   SOIL_HYDRO_SCHEME = 0.
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   ! IVEGT_DYNAMICS -- The vegetation dynamics scheme.                                     !
   !                   0.  No vegetation dynamics, the initial state will be preserved,    !
   !                       even though the model will compute the potential values.  This  !
   !                       option is useful for theoretical simulations only.              !
   !                   1.  Normal ED vegetation dynamics (Moorcroft et al 2001).           !
   !                       The normal option for almost any simulation.                    !
   !---------------------------------------------------------------------------------------!
   IVEGT_DYNAMICS = 1,
   !---------------------------------------------------------------------------------------!





   !---------------------------------------------------------------------------------------!
   ! IBIGLEAF -- Do you want to run ED as a 'big leaf' model?                              !
   !             0.  No, use the standard size- and age-structure (Moorcroft et al. 2001,  !
   !                 Ecol. Monogr.).  This is the recommended method for most              !
   !                 applications.                                                         !
   !             1. 'big leaf' ED (Levine et al. 2016, PNAS):  this will have no           !
   !                 horizontal or vertical heterogeneities; 1 patch per PFT and 1 cohort  !
   !                 per patch; no vertical growth, recruits will 'appear' instantaneously !
   !                 at maximum height.                                                    !
   !                                                                                       !
   ! N.B. if you set IBIGLEAF to 1, you MUST turn off the crown model (CROWN_MOD = 0)      !
   !---------------------------------------------------------------------------------------!
   IBIGLEAF = 0,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   ! INTEGRATION_SCHEME -- The biophysics integration scheme.                              !
   !                       0.  (Deprecated) Euler step.  The fastest, but it has only a    !
   !                           very crude estimate of time-step errors.                    !
   !                       1.  (ED-2.2 default) Fourth-order Runge-Kutta method.           !
   !                       2.  (Deprecated) Second-order Runge-Kutta method (Heun's).      !
   !                           This is not faster than option 1, and it will be eventually !
   !                           removed.                                                    !
   !                       3.  (Under development) Hybrid Stepping (Backward Euler BDF2    !
   !                           implicit step for the canopy air and leaf temp, forward     !
   !                           Euler for else). This has not been thoroughly tested for    !
   !                           energy, water, and CO2 conservation.                        !
   !---------------------------------------------------------------------------------------!
   INTEGRATION_SCHEME = 1,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   ! NSUB_EULER -- The number of sub-steps in case we are running forward Euler.  The      !
   !               maximum time step will then be DTLSM / NSUB_EULER.  This is needed to   !
   !               make sure we don't take too long steps with Euler, as we cannot         !
   !               estimate errors using first-order schemes.  This number is ignored      !
   !               except when INTEGRATION_SCHEME is 0.                                    !
   !---------------------------------------------------------------------------------------!
   NSUB_EULER = 75,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   ! RK4_TOLERANCE -- This is the relative tolerance for Runge-Kutta or Heun's             !
   !                  integration.  Currently the valid range is between 1.e-7 and 1.e-1,  !
   !                  but recommended values are between 1.e-4 and 1.e-2.                  !
   !---------------------------------------------------------------------------------------!
   RK4_TOLERANCE  = 0.01,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   ! IBRANCH_THERMO -- This determines whether branches should be included in the          !
   !                   vegetation thermodynamics and radiation or not.                     !
   !                   0.  (Legacy) No branches in energy/radiation.                       !
   !                   1.  (ED-2.2 default) Branches are accounted in the energy and       !
   !                       radiation.  Branchwood  and leaf are treated separately in the  !
   !                       canopy radiation scheme, but solved as a single pool in the     !
   !                       biophysics integration.                                         !
   !                   2.  (Beta) Similar to 1, but branches are treated as separate pools !
   !                       in the biophysics (thus doubling the number of prognostic       !
   !                       variables).                                                     !
   !---------------------------------------------------------------------------------------!
   IBRANCH_THERMO = 1,        
   !---------------------------------------------------------------------------------------!






   !---------------------------------------------------------------------------------------!
   ! IPHYSIOL --  This variable will determine the functional form that will control how   !
   !              the various parameters will vary with temperature, and how the CO2       !
   !              compensation point for gross photosynthesis (Gamma*) will be found.      !
   !              Options are:                                                             !
   !                                                                                       !
   ! 0 -- (Legacy) Original ED-2.1, we use the "Arrhenius" function as in Foley et al.     !
   !      (1996, Global Biogeochem. Cycles) and Moorcroft et al. (2001, Ecol. Monogr.).    !
   !      Gamma* is found using the parameters for tau as in Foley et al. (1996).  This    !
   !      option causes optimal temperature to be quite low, even in the tropics (Rogers   !
   !      et al. 2017, New Phytol.).                                                       !
   ! 1 -- (Beta) Similar to case 0, but we use Jmax to determine the RubP-regeneration     !
   !      (aka light) limitation case, account for the triose phosphate utilisation        !
   !      limitation case (C3), and use the Michaelis-Mentel coefficients along with other !
   !      parameters from von Caemmerer (2000, Biochemical models of leaf photosynthesis). !
   ! 2 -- (ED-2.2 default) Collatz et al. (1991, Agric. For. Meteorol.).  We use the power !
   !      (Q10) equations, with Collatz et al. (1991) parameters for compensation point,   !
   !      and the Michaelis-Mentel coefficients.  The correction for high and low          !
   !      temperatures are the same as in Moorcroft et al. (2001).                         !
   ! 3 -- (Beta) Similar to case 2, but we use Jmax to determine the RubP-regeneration     !
   !      (aka light) limitation case, account for the triose phosphate utilisation        !
   !      limitation case (C3), and use the Michaelis-Mentel coefficients along with other !
   !      parameters from von Caemmerer (2000).                                            !
   !---------------------------------------------------------------------------------------!
   IPHYSIOL = 2,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! IALLOM -- Which allometry to use (this mostly affects tropical PFTs).  Temperate PFTs !
   !           will use the new root allometry and the maximum crown area unless IALLOM is !
   !           set to 0).                                                                  !
   !           0.  (Legacy) Original ED-1.0, included for back compatibility.              !
   !           1.  (Legacy)                                                                !
   !               a. The coefficients for structural biomass are set so the total AGB     !
   !                  is similar to Baker et al. (2004, Glob. Change Biol.), equation 2.   !
   !               b. Experimental root depth that makes canopy trees to have root depths  !
   !                  of 5m and grasses/seedlings at 0.5 to have root depth of 0.5 m.      !
   !               c. Crown area defined as in Poorter et al. (2006, Ecology), imposing    !
   !                  maximum crown area.                                                  !
   !           2.  (ED-2.2 default) Similar to 1, but with a few extra changes.            !
   !               a. Height -> DBH allometry as in Poorter et al. (2006)                  !
   !               b. Balive is retuned, using a few leaf biomass allometric equations for !
   !                  a few genera in Costa Rica.  References:                             !
   !                  Cole and Ewel (2006, Forest Ecol. Manag.), and Calvo-Alvarado et al. !
   !                  (2008, Tree Physiol.).                                               !
   !           3. (Beta) Updated allometric for tropical PFTs based on data from           !
   !              Sustainable Landscapes Brazil (Height and crown area), Chave et al.      !
   !              (2014, Glob. Change Biol.) (biomass) and the BAAD data base, Falster et  !
   !               al. (2015, Ecology) (leaf area).  Both leaf and structural biomass take !
   !               DBH and Height as dependent variables, and DBH-Height takes a simpler   !
   !               log-linear form fitted using SMA so it can be inverted (useful for      !
   !               airborne lidar initialisation).                                         !
   !---------------------------------------------------------------------------------------!
   IALLOM          = 3,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! ECONOMICS_SCHEME -- Temporary variable for testing the relationship amongst traits in !
   !                     the tropics.                                                      !
   !                     0. (ED-2.2 default) ED-2.1 standard, based on Reich et al. (1997, !
   !                        PNAS), Moorcroft et al. (2001, Ecol. Monogr.) and some updates !
   !                        following Kim et al. (2012, Glob. Change Biol.).               !
   !                     1. When available, trait relationships were derived from more     !
   !                        up-to-date data sets, including the TRY database (Kattge et    !
   !                        al. 2011, Glob. Change Biol.), NGEE-Tropics (Norby et al.      !
   !                        2017, New Phytol.), RAINFOR (Bahar et al. 2017, New Phytol.),  !
   !                        and GLOPNET (Wright et al. 2004, Nature). Check                !
   !                        ed_params.f90 for details.                                     !
   !---------------------------------------------------------------------------------------!
   ECONOMICS_SCHEME = 0,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   ! IGRASS -- This controls the dynamics and growth calculation for grasses.              !
   !                                                                                       !
   ! 0. (Legacy) Original ED-1/ED-2.0 method, grasses are miniature trees, grasses have    !
   !    heartwood biomass (albeit small), and growth happens monthly.                      !
   ! 1. (ED-2.2 default).  Heartwood biomass is always 0, height is a function of leaf     !
   !    biomass , and growth happens daily. With this option, grasses are evergreen        !
   !    regardless of IPHEN_SCHEME.                                                        !
   !---------------------------------------------------------------------------------------!
   IGRASS          = 1,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   ! IPHEN_SCHEME -- It controls the phenology scheme.  Even within each scheme, the       !
   !                 actual phenology will be different depending on the PFT.              !
   !                                                                                       !
   ! -1: (ED-2.2 default for evergreen tropical).                                          !
   !     grasses   - evergreen;                                                            !
   !     tropical  - evergreen;                                                            !
   !     conifers  - evergreen;                                                            !
   !     hardwoods - cold-deciduous (Botta et al.);                                        !
   !                                                                                       !
   !  0: (Deprecated).                                                                     !
   !     grasses   - drought-deciduous (old scheme);                                       !
   !     tropical  - drought-deciduous (old scheme);                                       !
   !     conifers  - evergreen;                                                            !
   !     hardwoods - cold-deciduous;                                                       !
   !                                                                                       !
   !  1: (ED-2.2 default for prescribed phenology; deprecated for tropical PFTs).          !
   !     phenology is prescribed for cold-deciduous broadleaf trees.                       !
   !                                                                                       !
   !  2: (ED-2.2 default).                                                                 !
   !     grasses   - drought-deciduous (new scheme);                                       !
   !     tropical  - drought-deciduous (new scheme);                                       !
   !     conifers  - evergreen;                                                            !
   !     hardwoods - cold-deciduous;                                                       !
   !                                                                                       !
   !  3: (Beta).                                                                           !
   !     grasses   - drought-deciduous (new scheme);                                       !
   !     tropical  - drought-deciduous (light phenology);                                  !
   !     conifers  - evergreen;                                                            !
   !     hardwoods - cold-deciduous;                                                       !
   !                                                                                       !
   !  4: (Beta).                                                                           !
   !     grasses   - drought-deciduous (hydraulics scheme);                                !
   !     tropical  - drought-deciduous (hydraulics scheme);                                !
   !     conifers  - evergreen;                                                            !
   !     hardwoods - cold-deciduous;                                                       !
   !                                                                                       !
   !  5: (Beta).                                                                           !
   !     grasses   - drought-deciduous (hydraulics scheme);                                !
   !     tropical  - drought-deciduous (hydraulics scheme + light phenology);              !
   !     conifers  - evergreen;                                                            !
   !     hardwoods - cold-deciduous;                                                       !
   !                                                                                       !
   !                                                                                       !
   !  Old scheme: plants shed their leaves once instantaneous amount of available water    !
   !              becomes less than a critical value.                                      !
   !  New scheme: plants shed their leaves once a 10-day running average of available      !
   !              water becomes less than a critical value.                                !
   !  Hydraulics scheme: plants shed their leaves once predawn leaf water potential is     !
   !              lower than tugor loss point for 10 consecutive days                      !
   !---------------------------------------------------------------------------------------!
   IPHEN_SCHEME    = 2,
   !---------------------------------------------------------------------------------------!


   !---------------------------------------------------------------------------------------!
   !     Parameters that control the phenology response to radiation, used only when       !
   ! IPHEN_SCHEME = 3.  The meaning depends on ECONOMICS_SCHEME.                           !
   !                                                                                       !
   ! If ECONOMICS_SCHEME is 0 (default).                                                   !
   !    RADINT -- Intercept                                                                !
   !    RADSLP -- Slope.                                                                   !
   !    TurnoverAmplitude = RADINT + RADSLP * rshort                                       !
   !                                                                                       !
   ! If ECONOMICS_SCHEME is 1 (log-linear model).                                          !
   !    RADINT -- Multiplier.                                                              !
   !    RADSLP -- Exponent.                                                                !
   !    TurnoverAmplitude = RADINT * rshort ** RADSLP                                      !
   !---------------------------------------------------------------------------------------!
   NL%RADINT          = 2.6292e-4
   NL%RADSLP          = 1.553
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! REPRO_SCHEME -- This controls plant reproduction and dispersal.                       !
   !                 0.  Reproduction off.  Useful for very short runs only.               !
   !                 1.  (Legacy) Original reproduction scheme.  Seeds are exchanged       !
   !                     between patches belonging to the same site, but they can't go     !
   !                     outside their original site.                                      !
   !                 2.  (ED-2.2 default) Similar to 1, but seeds are exchanged between    !
   !                     patches belonging to the same polygon, even if they are in        !
   !                     different sites.  They can't go outside their original polygon,   !
   !                     though.  This is the same as option 1 if there is only one site   !
   !                     per polygon.                                                      !
   !                 3.  (Beta) Similar to 2, but allocation to reproduction may be set as !
   !                     a function of height using an asymptotic curve.                   !
   !---------------------------------------------------------------------------------------!
   REPRO_SCHEME    = 2,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! LAPSE_SCHEME -- This specifies the met lapse rate scheme:                             !
   !                 0.  (ED-2.2 default) No lapse rates                                   !
   !                 1.  (Beta) Phenomenological, global                                   !
   !                 2.  (Non-functional) Phenomenological, local                          !
   !                 3.  (Non-functional) Mechanistic                                      !
   !---------------------------------------------------------------------------------------!
   LAPSE_SCHEME    = 0,         
   !---------------------------------------------------------------------------------------!


  
   !---------------------------------------------------------------------------------------!
   ! CROWN_MOD -- Specifies how tree crowns are represent in the canopy radiation model,   !
   !              and in the turbulence scheme depending on ICANTURB.                      !
   !              0.  (ED-2.2 default)  Flat-top, infinitesimally thin crowns.             !
   !              1.  (Under development) Finite radius mixing model (Dietze).             !
   !                  This is only implemented for direct radiation with ICANRAD=0.        !
   !---------------------------------------------------------------------------------------!
   CROWN_MOD       = 0,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !      The following variables control the canopy radiation solver.                     !
   !                                                                                       !
   ! ICANRAD      -- Specifies how canopy radiation is solved.  This variable sets both    !
   !                 shortwave and longwave.                                               !
   !                 0. (Deprecated) original two-stream model from Medvigy (2006), with   !
   !                    the possibility to apply finite crown area to direct shortwave     !
   !                    radiation. This option is no longer supported and may be removed   !
   !                    in future releases.                                                !
   !                 1. (Deprecated) Multiple scattering model from Zhao and Qualls (2005, !
   !                    2006, Water Resour. Res.). This option is no longer supported and  !
   !                    may be removed in future releases.                                 !
   !                 2. (ED-2.2 default) Updated two-stream model from Liou (2002, An      !
   !                    introduction to atmospheric radiation).                            !
   ! IHRZRAD      -- Specifies how horizontal canopy radiation is solved.                  !
   !                 0.  (ED-2.2 default) No horizontal patch shading.  All patches        !
   !                     receive the same amount of light at the top.                      !
   !                 1.  (Beta) A realized map of the plant community is built by randomly !
   !                     assigning gaps associated with gaps (number of gaps proportional  !
   !                     to the patch area), and populating them with individuals,         !
   !                     respecting the cohort distribution in each patch.  The crown      !
   !                     closure index is calculated for the entire landscape and used     !
   !                     to change the amount of direct light reaching the top of the      !
   !                     canopy.  Patches are then split into 1-3 patches based on the     !
   !                     light condition, so expect simulations to be slower. (Morton et   !
   !                     al., in review).                                                  !
   !                 2.  (Beta) Similar to option 1, except that height for trees with     !
   !                     DBH > DBH_crit are rescaled to calculate CCI.                     !
   !                 3.  (Beta) This creates patches following IHRZRAD = 1, but then       !
   !                     assumes that the light scaling factor is 1 for all patches. This  !
   !                     is only useful to isolate the effect of heterogeneous             !
   !                     illumination from the patch count.                                !
   !                 4.  (Beta) Similar to option 3, but it applies the same method as     !
   !                     IHRZRAD=2.                                                        !
   !---------------------------------------------------------------------------------------!
   ICANRAD        =  2,
   IHRZRAD        =  0,
   !---------------------------------------------------------------------------------------!

   
   !---------------------------------------------------------------------------------------!
   ! LTRANS_VIS   -- Leaf transmittance for tropical plants - Visible/PAR                  !
   ! LTRANS_NIR   -- Leaf transmittance for tropical plants - Near Infrared                !
   ! LREFLECT_VIS -- Leaf reflectance for tropical plants - Visible/PAR                    !
   ! LREFLECT_NIR -- Leaf reflectance for tropical plants - Near Infrared                  !
   ! ORIENT_TREE  -- Leaf orientation factor for tropical trees.  Extremes are:            !
   !                 -1.  All leaves are oriented in the vertical                          !
   !                  0.  Leaf orientation is perfectly random                             !
   !                  1.  All leaves are oriented in the horizontal                        !
   !                  In practice, acceptable values range from -0.4 and 0.6               !
   ! ORIENT_GRASS -- Leaf orientation factor for tropical grasses.  Extremes are:          !
   !                 -1.  All leaves are oriented in the vertical                          !
   !                  0.  Leaf orientation is perfectly random                             !
   !                  1.  All leaves are oriented in the horizontal                        !
   !                  In practice, acceptable values range from -0.4 and 0.6               !
   ! CLUMP_TREE   -- Clumping factor for tropical trees.  Extremes are:                    !
   !                 lim -> 0.  Black hole (0 itself is unacceptable)                      !
   !                        1.  Homogeneously spread over the layer (i.e., no clumping)    !
   ! CLUMP_GRASS  -- Clumping factor for tropical grasses.  Extremes are:                  !
   !                 lim -> 0.  Black hole (0 itself is unacceptable)                      !
   !                        1.  Homogeneously spread over the layer (i.e., no clumping)    !
   !---------------------------------------------------------------------------------------!
   LTRANS_VIS     =  0.050,
   LTRANS_NIR     =  0.200,
   LREFLECT_VIS   =  0.100,
   LREFLECT_NIR   =  0.400,
   ORIENT_TREE    =  0.100,
   ORIENT_GRASS   =  0.000,
   CLUMP_TREE     =  0.800,
   CLUMP_GRASS    =  1.000,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! DECOMP_SCHEME -- This specifies the soil Carbon (decomposition) model.                !
   !                                                                                       !
   ! 0 -  (Deprecated) ED-2.0 default. Exponential with low-temperature limitation only.   !
   !      This option is known to cause excessive accumulation of soil carbon in the       !
   !      tropics.                                                                         !
   ! 1 -  (Beta) Lloyd and Taylor (1994, Funct. Ecol.) model. Aditional parameters must be !
   !      set in an XML file.                                                              !
   ! 2 -  (ED-2.2 default) Similar to ED-1.0 and CENTURY model, heterotrophic respiration  !
   !      reaches a maximum at around 38C (using the default parameters), then quickly     !
   !      falls to zero at around 50C.  It applies a similar function for soil moisture,   !
   !      which allows higher decomposition rates when it is close to the optimal, plumet- !
   !      ting when it is almost saturated.                                                !
   ! 3 -  (Non-functional) Similar to option 0, but it uses empirical moisture limit       !
   !      equation from Moyano et al. (2012, Biogeosciences).                              !
   ! 4 -  (Non-functional) Similar to option 1, but it uses empirical moisture limit       !
   !      equation from Moyano et al. (2012, Biogeosciences).                              !
   ! 5 -  (Beta) Based on Bolker et al. (1998, Ecol. Appl.) CENTURY model.  Five necromass !
   !      pools (litter aka fast, structural, microbial, humified aka slow, and passive).  !
   !      Temperature and moisture functions are the same as 2.                            !
   !---------------------------------------------------------------------------------------!
   DECOMP_SCHEME   = 5,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! H2O_PLANT_LIM -- this determines whether plant photosynthesis can be limited by       !
   !                  soil moisture, the FSW, defined as FSW = Supply / (Demand + Supply). !
   !                                                                                       !
   ! Demand is always the transpiration rates in case soil moisture is not limiting (the   !
   ! psi_0 term times LAI).  The supply is determined by                                   !
   !                                                                                       !
   ! Kw * nplant * Broot * Available_Water,                                                !
   !                                                                                       !
   ! and the definition of available water changes depending on H2O_PLANT_LIM:             !
   ! 0.  Force FSW = 1 (effectively available water is infinity).                          !
   ! 1.  (Legacy) Available water is the total soil water above wilting point, integrated  !
   !     across all layers within the rooting zone.                                        !
   ! 2.  (ED-2.2 default) Available water is the soil water at field capacity minus wilt-  !
   !     ing point, scaled by the so-called wilting factor:                                !
   !                                                                                       !
   !          (psi(k) - (H - z(k)) - psi_wp) / (psi_fc - psi_wp)                           !
   !                                                                                       !
   !     where psi is the matric potentital at layer k, z is the layer depth, H it the     !
   !     crown height and psi_fc and psi_wp are the matric potentials at wilting point     !
   !     and field capacity.                                                               !
   ! 3.  (Beta) Use leaf water potential to modify fsw following Powell et al. (2017).     !
   !     This setting requires PLANT_HYDRO_SCHEME to be non-zero.                          !
   ! 4.  (Beta) Use leaf water potential to modify the optimization-based stomatal model   !
   !     following Xu et al. (2016).  This setting requires PLANT_HYDRO_SCHEME to be       !
   !     non-zero values and set ISTOMATA_SCHEME to 1.                                     !
   ! 5.  (Beta) Similar to 2, but the water supply directly affects gsw, as opposed to     !
   !     fsw.  This is done by making D0 a function of soil moisture.  Note that this      !
   !     still uses Kw but Kw must be significantly lower, at least for tropical trees     !
   !     (1/15 - 1/10 of the original).  This works only with PLANT_HYDRO_SCHEME set to 0. !
   !---------------------------------------------------------------------------------------!
   H2O_PLANT_LIM   = 2,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !  PLANT_HYDRO_SCHEME -- Flag to set dynamic plant hydraulics.                          !
   !  0 - (ED-2.2 default) No dynamic hydraulics (leaf and wood are always saturated).     !
   !  1 - (ED-2.2 alternative) Track plant hydrodynamics.  Model framework from X16, using !
   !      parameters from C16.                                                             !
   !  2 - (Deprecated) Track plant hydrodynamics.  Model framework from X16, using         !
   !      parameters from X16.                                                             !
   !                                                                                       !
   ! References:                                                                           !
   !                                                                                       !
   ! Christoffersen BO, Gloor M, Fauset S, Fyllas NM, Galbraith DR, Baker TR, Kruijt B,    !
   !    Rowland L, Fisher RA, Binks OJ et al. 2016. Linking hydraulic traits to tropical   !
   !    forest function in a size- structured and trait-driven model (TFS v.1-Hydro).      !
   !    Geosci. Model Dev., 9: 4227-4255. doi:10.5194/gmd- 9-4227-2016 (C16).              !
   !                                                                                       !
   ! Xu X, Medvigy D, Powers JS, Becknell JM , Guan K. 2016. Diversity in plant hydraulic  !
   !    traits explains seasonal and inter-annual variations of vegetation dynamics in     !
   !    seasonally dry tropical forests. New Phytol., 212: 80-95. doi:10.1111/nph.14009    !
   !    (X16).                                                                             !
   !---------------------------------------------------------------------------------------!
   PLANT_HYDRO_SCHEME   = 0,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! ISTRUCT_GROWTH_SCHEME -- Different methods to perform structural growth.              !
   ! 0. (ED-2.2 default) Use all bstorage allocation to growth to increase heartwood.      !
   !    This option will be eventually deprecated, as it creates problems for drought-     !
   !    deciduous plants and for allometric settings that properly calculate sapwood       !
   !    (IALLOM = 3).                                                                      !
   ! 1. (ED-2.2 alternative) Correct the fraction of storage allocated to heartwood, so    !
   !    storage has sufficient carbon to increment all living tissues in the upcoming      !
   !    month.  This option will eventually become the default.                            !
   !---------------------------------------------------------------------------------------!
   ISTRUCT_GROWTH_SCHEME = 1,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   ! ISTEM_RESPIRATION_SCHEME -- Different methods to calculate respiration from stem      !
   ! metabolism.                                                                           !
   ! 0. No explicit stem respiration (default by ED2.2 and before)                         !
   ! 1. Calculate stem respiration with stem surface area and                              !
   ! per area respiration rate, which is a function of temperature and tree size based on  !
   ! measurements on tropical trees by Chambers et al. (2004). Note that the calculation of!
   ! surface area uses WAI. So if IBRANCH_THERMO is set to 0. All branch surface areas will!
   ! be ignored.                                                                           !
   !---------------------------------------------------------------------------------------!
   ISTEM_RESPIRATION_SCHEME = 0,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! ISTOMATA_SCHEME -- Which stomatal conductance model to use.                           !
   ! 0. (ED-2.2 default) Leuning (L95) model.                                              !
   ! 1. (Beta) Katul's optimization-based model (see X16)                                  !
   !                                                                                       !
   ! References:                                                                           !
   !                                                                                       !
   ! Leuning R. 1995. A critical appraisal of a combined stomatal-photosynthesis model for !
   !    C3 plants. Plant Cell Environ., 18: 339-355.                                       !
   !    doi:10.1111/j.1365-3040.1995.tb00370.x (L95).                                      !
   !                                                                                       !
   ! Xu X, Medvigy D, Powers JS, Becknell JM , Guan K. 2016. Diversity in plant hydraulic  !
   !    traits explains seasonal and inter-annual variations of vegetation dynamics in     !
   !    seasonally dry tropical forests. New Phytol., 212: 80-95. doi:10.1111/nph.14009    !
   !    (X16).                                                                             !
   !---------------------------------------------------------------------------------------!
   ISTOMATA_SCHEME = 0,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! TRAIT_PLASTICITY_SCHEME -- Whether/How plant traits vary with local environment.      !
   !                                                                                       !
   !  0 - (ED-2.2 default) No trait plasticity. Trait parameters for each PFT are fixed.   !
   !  1 - (Beta) Vm0, SLA and leaf turnover rate change annually with cohort light         !
   !      environment.  The parametrisation is based on Lloyd et al. (2010,                !
   !      Biogeosciences), with additional data from Keenan and Niinemets (2016, Nat.      !
   !      Plants) and Russo and Kitajima (2016, Tropical Tree Physiology book).  For each  !
   !      cohort, Vm0 and leaf turnover rates decrease, and SLA increases with shading.    !
   !      The magnitude of changes is calculated using overtopping LAI and corresponding   !
   !      extinction factors for each trait.  This is not applicable to grass PFTs.        !
   !      (Xu et al. in prep.)                                                             !
   !  2 - (Beta) Similar to 1, but traits are updated monthly.                             !
   ! -1 - (Beta) Similar to 1, but use height to adjust SLA.                               !
   ! -2 - (Beta) Similar to 2, but use height to adjust SLA.                               !
   !---------------------------------------------------------------------------------------!
   TRAIT_PLASTICITY_SCHEME = 0,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !  IDDMORT_SCHEME -- This flag determines whether storage should be accounted in the    !
   !                    carbon balance.                                                    !
   !                    0 -- (Legacy) Carbon balance is done in terms of fluxes only.      !
   !                    1 -- (ED-2.2 default) Carbon balance is offset by the storage      !
   !                         pool.  Plants will be in negative carbon balance only when    !
   !                         they run out of storage and are still losing more carbon than !
   !                         gaining.                                                      !
   !                                                                                       !
   !  CBR_SCHEME     -- This flag determines which carbon stress scheme is used:           !
   !                    0 -- (ED-2.2 default) Single stress. CBR = cb/cb_mlmax             !
   !                         cb_mlmax is the carbon balance in full sun and no moisture    !
   !                         limitation                                                    !
   !                    1 -- (Legacy) Co-limitation from light and moisture (Longo et al.  !
   !                         2018, New Phytol.).  CBR_LIGHT = cb/cb_lightmax and           !
   !                         CBR_MOIST = cb/cb_moistmax.  CBR_LIGHT and CBR_MOIST are then !
   !                         weighted according to DDMORT_CONST (below)                    !
   !                    2 -- (Beta) Leibig Style, i.e. limitation from either light or     !
   !                         moisture depending on which is lower at a given point in time !
   !                         CBR = cb/max(cb_lightmax, cb_moistmax)                        !
   !                                                                                       !
   !  DDMORT_CONST   -- CBR_Scheme = 1 only                                                !
   !                    This constant (k) determines the relative contribution of light    !
   !                    and soil moisture to the density-dependent mortality rate.  Values !
   !                    range from 0 (soil moisture only) to 1 (light only, which is the   !
   !                    ED-1.0 and ED-2.0 default).                                        !
   !                                                                                       !
   !                                    mort1                                              !
   !                  mu_DD = -------------------------                                    !
   !                            1 + exp [ mort2 * CBR ]                                    !
   !                                                                                       !
   !                 1           DDMORT_CONST       1 - DDMORT_CONST                       !
   !           ------------ = ------------------ + ------------------                      !
   !           CBR - CBR_SS   CBR_LIGHT - CBR_SS   CBR_MOIST - CBR_SS                      !
   !                                                                                       ! 
   !---------------------------------------------------------------------------------------!
   IDDMORT_SCHEME  = 0,
   CBR_SCHEME      = 0,
   DDMORT_CONST    = 1.,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   !  CARBON_MORTALITY_SCHEME - Different methods to calculate negative carbon balance     !
   !                            mortality.                                                 !
   !                            0. (ED-2.2 default) ED-1 original formulation              !
   !                               (Moorcroft et al. 2001)                                 !
   !                            1. (ED-2.2 Alternative)                                    !
   !                               trait-dependent exponential model by Camac et al. 2018  !
   !                               but uses CB instead of growth                           !
   !                            2. (ED-2.2 Alternative)                                    !
   !                               trait-dependent exponential model by Camac et al. 2018  !
   !                               and use actual growth rates                             !
   !---------------------------------------------------------------------------------------!
   CARBON_MORTALITY_SCHEME = 0,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !  HYDRAULIC_MORTALITY_SCHEME - Different methods to calculate hydraulic failure        !
   !                               mortality.                                              !
   !                            0. (ED-2.2 default) No hydraulic failure mortality         !
   !                            1. (Beta) hydraulic failure mortality based on monthly     !
   !                               mean xylem percentage loss of conductance (PLC)         !
   !---------------------------------------------------------------------------------------!
   HYDRAULIC_MORTALITY_SCHEME = 0,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !     The following variables are factors that control photosynthesis and respiration.  !
   ! Notice that some of them are relative values whereas others are absolute.             !
   !                                                                                       !
   ! VMFACT_C3     -- Factor multiplying the default Vm0 for C3 plants (1.0 = default).    !
   ! VMFACT_C4     -- Factor multiplying the default Vm0 for C4 plants (1.0 = default).    !
   ! MPHOTO_TRC3   -- Stomatal slope (M) for tropical C3 plants                            !
   ! MPHOTO_TEC3   -- Stomatal slope (M) for conifers and temperate C3 plants              !
   ! MPHOTO_C4     -- Stomatal slope (M) for C4 plants.                                    !
   ! BPHOTO_BLC3   -- cuticular conductance for broadleaf C3 plants  [umol/m2/s]           !
   ! BPHOTO_NLC3   -- cuticular conductance for needleleaf C3 plants [umol/m2/s]           !
   ! BPHOTO_C4     -- cuticular conductance for C4 plants            [umol/m2/s]           !
   ! KW_GRASS      -- Water conductance for trees, in m2/yr/kgC_root.  This is used only   !
   !                  when H2O_PLANT_LIM is not 0.                                         !
   ! KW_TREE       -- Water conductance for grasses, in m2/yr/kgC_root.  This is used only !
   !                  when H2O_PLANT_LIM is not 0.                                         !
   ! GAMMA_C3      -- The dark respiration factor (gamma) for C3 plants.  In case this     !
   !                  number is set to 0, find the factor based on Atkin et al. (2015).    !
   ! GAMMA_C4      -- The dark respiration factor (gamma) for C4 plants.  In case this     !
   !                  number is set to 0, find the factor based on Atkin et al. (2015).    !
   !                  (assumed to be twice as large as C3 grasses, as Atkin et al. 2015    !
   !                  did not estimate Rd0 for C4 grasses).                                !
   ! D0_GRASS      -- The transpiration control in gsw (D0) for ALL grasses.               !
   ! D0_TREE       -- The transpiration control in gsw (D0) for ALL trees.                 !
   ! ALPHA_C3      -- Quantum yield of ALL C3 plants.  This is only applied when           !
   !                  QUANTUM_EFFICIENCY_T = 0.                                            !
   ! ALPHA_C4      -- Quantum yield of C4 plants.  This is always applied.                 !
   ! KLOWCO2IN     -- The coefficient that controls the PEP carboxylase limited rate of    !
   !                  carboxylation for C4 plants.                                         !
   ! RRFFACT       -- Factor multiplying the root respiration factor for ALL PFTs.         !
   !                  (1.0 = default).                                                     !
   ! GROWTHRESP    -- The actual growth respiration factor (C3/C4 tropical PFTs only).     !
   !                  (1.0 = default).                                                     !
   ! LWIDTH_GRASS  -- Leaf width for grasses, in metres.  This controls the leaf boundary  !
   !                  layer conductance (gbh and gbw).                                     !
   ! LWIDTH_BLTREE -- Leaf width for trees, in metres.  This controls the leaf boundary    !
   !                  layer conductance (gbh and gbw).  This is applied to broadleaf trees !
   !                  only.                                                                !
   ! LWIDTH_NLTREE -- Leaf width for trees, in metres.  This controls the leaf boundary    !
   !                  layer conductance (gbh and gbw).  This is applied to conifer trees   !
   !                  only.                                                                !
   ! Q10_C3        -- Q10 factor for C3 plants (used only if IPHYSIOL is set to 2 or 3).   !
   ! Q10_C4        -- Q10 factor for C4 plants (used only if IPHYSIOL is set to 2 or 3).   !
   !---------------------------------------------------------------------------------------!
   VMFACT_C3       = 1.00,
   VMFACT_C4       = 1.00,
   MPHOTO_TRC3     = 9.0,
   MPHOTO_TEC3     = 7.2,
   MPHOTO_C4       = 5.2,
   BPHOTO_BLC3     = 10000.,
   BPHOTO_NLC3     = 1000.,
   BPHOTO_C4       = 10000.,
   KW_GRASS        = 900.,
   KW_TREE         = 600.,
   GAMMA_C3        = 0.0145,
   GAMMA_C4        = 0.0350,
   D0_GRASS        = 0.016,
   D0_TREE         = 0.016,
   ALPHA_C3        = 0.080,
   ALPHA_C4        = 0.055,
   KLOWCO2IN       = 17949.,
   RRFFACT         = 1.000,
   GROWTHRESP      = 0.333,
   LWIDTH_GRASS    = 0.05,
   LWIDTH_BLTREE   = 0.10,
   LWIDTH_NLTREE   = 0.05,
   Q10_C3          = 2.4,
   Q10_C4          = 2.4,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   ! THETACRIT -- Leaf drought phenology threshold.  The sign matters here:                !
   !              >= 0. -- This is the relative soil moisture above the wilting point      !
   !                       below which the drought-deciduous plants will start shedding    !
   !                       their leaves                                                    !
   !              <  0. -- This is the soil potential in MPa below which the drought-      !
   !                       -deciduous plants will start shedding their leaves.  The wilt-  !
   !                       ing point is by definition -1.5MPa, so make sure that the value !
   !                       is above -1.5.                                                  !
   !---------------------------------------------------------------------------------------!
   THETACRIT       = -1.20,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! QUANTUM_EFFICIENCY_T -- Which quantum yield model should to use for C3 plants         !
   !                         0.  (ED-2.2 default) Quantum efficiency is constant.          !
   !                         1.  (Beta) Quantum efficiency varies with temperature         !
   !                             following Ehleringer (1978, Oecologia) polynomial fit.    !
   !---------------------------------------------------------------------------------------!
   QUANTUM_EFFICIENCY_T = 0,  
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! N_PLANT_LIM -- This controls whether plant photosynthesis can be limited by nitrogen. !
   !                0.  No limitation                                                      !
   !                1.  Activate nitrogen limitation model.  As of ED-2.2, this option has !
   !                    not been thoroughly tested in the tropics.                         !
   !---------------------------------------------------------------------------------------!
   N_PLANT_LIM     = 0,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! N_DECOMP_LIM -- This controls whether decomposition can be limited by nitrogen.       !
   !                0.  No limitation                                                      !
   !                1.  Activate nitrogen limitation model.  As of ED-2.2, this option has !
   !                    not been thoroughly tested in the tropics.                         !
   !---------------------------------------------------------------------------------------!
   N_DECOMP_LIM    = 0,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   !      The following parameters adjust the fire disturbance in the model.               !
   ! INCLUDE_FIRE   -- Which threshold to use for fires.                                   !
   !                   0.  No fires;                                                       !
   !                   1.  (deprecated) Fire will be triggered with enough fuel (assumed   !
   !                       to be total above-ground biomass) and integrated ground water   !
   !                       depth less than a threshold.  Based on ED-1, the threshold      !
   !                       assumes that the soil is 1 m, so deeper soils will need to be   !
   !                       much drier to allow fires to happen.                            !
   !                   2.  (ED-2.2 default) Fire will be triggered with enough biomass and !
   !                       the total soil water at the top 50 cm falls below a threshold.  !
   !                   3.  (Under development) This will eventually become SPITFIRE and/or !
   !                       HESFIRE.  Currently this is similar to 2, except that fuel is   !
   !                       defined as above-ground litter and coarse woody debris,         !
   !                       grasses, and trees shorter than 2 m.  Ignitions are currently   !
   !                       restricted to areas with human presence (i.e. any non-natural   !
   !                       patch).                                                         !
   ! FIRE_PARAMETER -- If fire happens, this will control the intensity of the disturbance !
   !                   given the amount of fuel.                                           !
   ! SM_FIRE        -- This is used only when INCLUDE_FIRE = 2 or 3, and it has different  !
   !                   meanings.  The sign here matters.                                   !
   !                   When INCLUDE_FIRE = 2:                                              !
   !                      >= 0. - Minimum relative soil moisture above dry air of the top  !
   !                              soil layers that will prevent fires to happen.           !
   !                      <  0. - Minimum mean soil moisture potential in MPa of the top   !
   !                              soil layers that will prevent fires to happen.  Although !
   !                              this variable can be as negative as -3.1 MPa (residual   !
   !                              soil water), it is recommended that SM_FIRE > -1.5 MPa   !
   !                              (wilting point), otherwise fires may never occur.        !
   !---------------------------------------------------------------------------------------!
   INCLUDE_FIRE    = 2,
   FIRE_PARAMETER  = 0.5,
   SM_FIRE         = -1.40,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !  IANTH_DISTURB -- This flag controls whether to include anthropogenic disturbances    !
   !                   such as land clearing, abandonment, and logging.                    !
   !                   0.  No anthropogenic disturbance.                                   !
   !                   1.  Use anthropogenic disturbance dataset (ED-2.2 default when      !
   !                       anthropogenic disturbance is sought).                           !
   !                   2.  Site-specific forest plantation or selective logging cycle.     !
   !                       (Longo et al., in prep.) (Beta)                                 !
   !                                                                                       !
   ! The following variables are used only when IANTH_DISTURB is 2.                        !
   !                                                                                       !
   ! SL_SCALE           -- This flag assumes whether the simulation scale is local or      !
   !                       landscape.  This controls the recurrence of logging.            !
   !                       0.  Local. The simulation represents one logging unit.  Apply   !
   !                           logging only once every SL_NYRS                             !
   !                       1.  Landscape.  The simulation represents a landscape. Logging  !
   !                           occurs every year but it is restricted to patches with age  !
   !                           greater than or equal to SL_NYRS                            !
   ! SL_YR_FIRST        -- The first year to apply logging.  In case IANTH_DISTURB is 2 it !
   !                       must be a simulation year (i.e. between IYEARA and IYEARZ).     !
   ! SL_NYRS            -- This variable defines the logging cycle, in years (see variable !
   !                       SL_SCALE above)                                                 !
   ! SL_PFT             -- PFTs that can be harvested.                                     !
   ! SL_PROB_HARVEST    -- Logging intensity (one value for each PFT provided in SL_PFT).  !
   !                       Values should be between 0.0 and 1.0, with 0 meaning no         !
   !                       removal, and 1 removal of all trees needed to meet demands.     !
   ! SL_MINDBH_HARVEST  -- Minimum DBH for logging (one value for each PFT provided in     !
   !                       SL_PFT).                                                        !
   ! SL_BIOMASS_HARVEST -- Target biomass to be harvested in each cycle, in kgC/m2.  If    !
   !                       zero, then all trees that meet the minimum DBH and minimum      !
   !                       patch age will be logged.  In case you don't want logging to    !
   !                       occur, don't set this value to zero! Instead, set IANTH_DISTURB !
   !                       to zero.                                                        !
   !                                                                                       !
   ! The following variables are used when IANTH_DISTURB is 1 or 2.                        !
   !                                                                                       !
   ! SL_SKID_REL_AREA    -- area damaged by skid trails (relative to felled area).         !
   ! SL_SKID_S_GTHARV    -- survivorship of trees with DBH > MINDBH in skid trails.        !
   ! SL_SKID_S_LTHARV    -- survivorship of trees with DBH < MINDBH in skid trails.        !
   ! SL_FELLING_S_LTHARV -- survivorship of trees with DBH < MINDBH in felling gaps.       !
   !                                                                                       !
   ! Cropland variables, used when IANTH_DISTURB is 1 or 2.                                !
   !                                                                                       !
   ! CL_FSEEDS_HARVEST   -- fraction of seeds that is harvested.                           !
   ! CL_FSTORAGE_HARVEST -- fraction of non-structural carbon that is harvested.           !
   ! CL_FLEAF_HARVEST    -- fraction of leaves that is harvested in croplands.             !
   !---------------------------------------------------------------------------------------!
   IANTH_DISTURB       = 0,
   SL_SCALE            = 1,
   SL_YR_FIRST         = 2017,
   SL_NYRS             = 40,
   SL_PFT              = 2,3,4,
   SL_INTENSITY        = 1.0,1.0,1.0,
   SL_MINDBH_HARVEST   = 35.0,35.0,35.0,
   SL_BIOMASS_HARVEST  = 0.,
   SL_SKID_REL_AREA    = 0.6,
   SL_SKID_S_GTHARV    = 1.00,
   SL_SKID_S_LTHARV    = 0.60,
   SL_FELLING_S_LTHARV = 0.35,
   CL_FSEEDS_HARVEST   = 0.75,
   CL_FSTORAGE_HARVEST = 0.0,
   CL_FLEAF_HARVEST    = 0.0,
   !---------------------------------------------------------------------------------------!

   
   
   
   !---------------------------------------------------------------------------------------!
   ! ICANTURB -- This flag controls the canopy roughness.                                  !
   !                                                                                       !
   ! 0.  (Legacy) Based on Leuning et al. (Oct 1995, Plant Cell Environ.) and LEAF-3       !
   !     (Walko et al. 2000, J. Appl. Meteorol.).  Roughness and displacement height are   !
   !     found using simple relations with vegetation height; wind is computed using the   !
   !     similarity theory for the top cohort, then it is assumed that wind extinguishes   !
   !     following an exponential decay with "perceived" cumulative LAI (local LAI with    !
   !     finite crown area).                                                               !
   ! 1.  (Legacy) Similar to option 0, but the wind profile is not based on LAI, instead   !
   !     it used the cohort height.                                                        !
   ! 2.  (ED-2.2 default) This uses the method of Massman (1997, Boundary-Layer Meteorol.) !
   !     assuming constant drag and no sheltering factor.                                  !
   ! 3.  (ED-2.2 alternative) This is based on Massman and Weil (1999, Boundary-Layer      !
   !     Meteorol.). Similar to 2, but with the option of varying the drag and sheltering  !
   !     within the canopy.                                                                !
   ! 4.  Similar to 0, but if finds the ground conductance following CLM-4.5 technical     !
   !     note (Oleson et al. 2013, NCAR/TN-503+STR) (equations 5.98-5.100).                !
   !---------------------------------------------------------------------------------------!
   ICANTURB        = 2,       
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !      The following variables control the plant functional types (PFTs) that will be   !
   ! used in this simulation.                                                              !
   !                                                                                       !
   ! INCLUDE_THESE_PFT -- which PFTs to be considered for the simulation.                  !
   ! PASTURE_STOCK     -- which PFT should be used for pastures                            !
   !                      (used only when IANTH_DISTURB = 1 or 2)                          !
   ! AGRI_STOCK        -- which PFT should be used for agriculture                         !
   !                      (used only when IANTH_DISTURB = 1 or 2)                          !
   ! PLANTATION_STOCK  -- which PFT should be used for plantation                          !
   !                      (used only when IANTH_DISTURB = 1 or 2)                          !
   !                                                                                       !
   ! PFT table                                                                             !
   !---------------------------------------------------------------------------------------!
   ! 1 - C4 Grass                                                                          !
   ! 2 - Tropical broadleaf, early successional                                            !
   ! 3 - Tropical broadleaf, mid-successional                                              !
   ! 4 - Tropical broadleaf, late successional                                             !
   ! 5 - Temperate C3 grass                                                                !
   ! 6 - Northern North American pines                                                     !
   ! 7 - Southern North American pines                                                     !
   ! 8 - Late-successional North American conifers                                         !
   ! 9 - Temperate broadleaf, early successional                                           !
   ! 10 - Temperate broadleaf, mid-successional                                            !
   ! 11 - Temperate broadleaf, late successional                                           !
   ! 12 - (Beta) Tropical broadleaf, early successional (thick bark)                       !
   ! 13 - (Beta) Tropical broadleaf, mid-successional (thick bark)                         !
   ! 14 - (Beta) Tropical broadleaf, late successional (thick bark)                        !
   ! 15 - Araucaria                                                                        !
   ! 16 - Tropical/subtropical C3 grass                                                    !
   ! 17 - (Beta) Lianas                                                                    !
   !---------------------------------------------------------------------------------------!
   INCLUDE_THESE_PFT = 1,2,3,4,16,
   PASTURE_STOCK     = 1,
   AGRI_STOCK        = 1,
   PLANTATION_STOCK  = 3,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   ! PFT_1ST_CHECK -- What to do if the initialisation file has a PFT that is not listed   !
   !                  in INCLUDE_THESE_PFT (ignored if IED_INIT_MODE is -1 or 0)           !
   !                  0.  Stop the run                                                     !
   !                  1.  Add the PFT in the INCLUDE_THESE_PFT list                        !
   !                  2.  Ignore the cohort                                                !
   !---------------------------------------------------------------------------------------!
   PFT_1ST_CHECK = 0,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! The following variables control the size of sub-polygon structures in ED-2.           !
   ! IFUSION        -- Control on patch/cohort fusion scheme                               !
   !                   0.  (ED-2.2 default).  This is the original ED-2 scheme.  This will !
   !                       be eventually superseded by IFUSION=1.                          !
   !                   1.  (Beta) New scheme, developed to address a few issues that       !
   !                       become more evident when initialising ED with large (>1000)     !
   !                       number of patches.  It uses absolute difference in light levels !
   !                       to avoid fusing patches with very different canopies, and also  !
   !                       makes sure that remaining patches have area above               !
   !                       MIN_PATCH_AREA and that a high percentage of the original       !
   !                       landscape is retained.                                          !
   !                                                                                       !
   ! MAXPATCH       -- A variable controlling the sought number of patches per site.       !
   !                   Possible values are:                                                !
   !                       0. Disable any patch fusion.  This may lead to a large number   !
   !                          of patches in century-long simulations.                      !
   !                       1. The model will force fusion until the total number of        !
   !                          patches is 1 for each land use type.                         !
   !                      -1. Similar to 1, but fusion will only happen during             !
   !                          initialisation                                               !
   !                   >=  2. The model will seek fusion of patches every year, aiming to  !
   !                          keep the number of patches below NL%MAXPATCH.                !
   !                   <= -2. Similar to >= 2, but fusion will only happen during          !
   !                          initialisation.  The target number of patches will be the    !
   !                          absolute number of NL%MAXPATCH.                              !
   !                                                                                       !
   !                   IMPORTANT: A given site may contain more patches than MAXPATCH in   !
   !                              case the patches are so different that they cannot be    !
   !                              fused even when the fusion threshold is relaxed.         !
   !                                                                                       !
   ! MAXCOHORT      -- A variable controlling the sought number of cohorts per patch.      !
   !                   Possible values are:                                                !
   !                       0. Disable cohort fusion.  This may lead to a large number of   !
   !                          cohorts in century-long simulations.                         !
   !                   >=  1. The model will seek fusion of cohorts every month, aiming to !
   !                          keep the number of cohorts per patch below MAXCOHORT.        !
   !                   <= -1. Similar to >= 1, but fusion will only happen during          !
   !                          initialisation.  The target number of cohorts will be the    !
   !                          absolute number of MAXCOHORT.                                !
   !                                                                                       !
   !                   IMPORTANT: A given patch may contain more cohorts than MAXCOHORT in !
   !                              case the cohorts are so different that they cannot be    !
   !                              fused even when the fusion threshold is relaxed.         !
   !                                                                                       !
   ! MIN_PATCH_AREA -- This is the minimum fraction area of a given soil type that allows  !
   !                   a site to be created (ignored if IED_INIT_MODE is set to 3).        !
   !                   IMPORTANT: This is not enforced by the model, but we recommend that !
   !                              MIN_PATCH_AREA >= 1/MAXPATCH, otherwise the model may    !
   !                              never reach MAXPATCH.                                    !
   !                                                                                       !
   ! IMPORTANT: Because of the communication between ED2 and BRAMS, and the confusion in   !
   !            the nomenclature, ED2 MAXSITE is initialised through NVEGPAT, and          !
   !            MIN_SITE_AREA is initialised through LEAF-3's MIN_PATCH_AREA.  ED2 sites   !
   !            are transferred to LEAF-3 patches for coupling with the atmosphere.        !
   !---------------------------------------------------------------------------------------!
   IFUSION        =     1,
   MAXPATCH       =    30,
   MAXCOHORT      =    80,
   MIN_PATCH_AREA = 0.001,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   !     Treefall disturbance parameters.                                                  !
   ! TREEFALL_DISTURBANCE_RATE -- Sign-dependent treefall disturbance rate:                !
   !                              > 0. usual disturbance rate, in 1/years;                 !
   !                              = 0. No treefall disturbance;                            !
   ! TIME2CANOPY               -- Minimum patch age for treefall disturbance to happen.    !
   !                              If TREEFALL_DISTURBANCE_RATE = 0., this value will be    !
   !                              ignored.  If this value is different than zero, then     !
   !                              TREEFALL_DISTURBANCE_RATE is internally adjusted so the  !
   !                              average patch age is still 1/TREEFALL_DISTURBANCE_RATE   !
   !---------------------------------------------------------------------------------------!
   TREEFALL_DISTURBANCE_RATE  =  0.014,
   TIME2CANOPY                =    0.0,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !      Control parameters for printing to standard output.  Any variable can be printed !
   ! to standard output as long as it is one dimensional.  Polygon variables have been     !
   ! tested, no gaurtantees for other hierarchical levels.  Choose any variables that are  !
   ! defined in the variable table fill routine in ed_state_vars.f90.  Choose the start    !
   ! and end index of the polygon,site,patch or cohort.  It should work in parallel.  The  !
   ! indices are global indices of the entire domain.  The are printed out in rows of 10   !
   ! columns each.                                                                         !
   !                                                                                       !
   ! IPRINTPOLYS -- 0.  Do not print information to screen                                 !
   !                1.  Print polygon arrays to screen, use variables described below to   !
   !                    determine which ones and how                                       !
   ! NPVARS      -- Number of variables to be printed                                      !
   ! PRINTVARS   -- List of variables to be printed                                        !
   ! PFMTSTR     -- The standard fortran format for the prints.  One format per variable   !
   ! IPMIN       -- First polygon (absolute index) to be print                             !
   ! IPMAX       -- Last polygon (absolute index) to print                                 !
   !---------------------------------------------------------------------------------------!
   IPRINTPOLYS  =  0,        
   NPVARS       =  1,
   PRINTVARS    = 'AVG_RLONG',
   PFMTSTR      = 'f10.8','f5.1','f7.2','f9.5',
   IPMIN        = 1,       ! The first polygon index to print
   IPMAX        = 60,       ! The last polygon index to print
   !---------------------------------------------------------------------------------------!


   !---------------------------------------------------------------------------------------!
   ! IMETRAD     -- What should the model do with the input short wave radiation?          !
   !                0.  (ED-2.2 default, when radiation components were measured)          !
   !                    Nothing, use it as is.                                             !
   !                1.  (Legacy) Add radiation components together, then use the SiB       !
   !                    method (Sellers et al. 1986, J. Atmos. Sci) to split radiation     !
   !                    into the four components (PAR direct, PAR diffuse, NIR direct,     !
   !                    NIR diffuse).                                                      !
   !                2.  (ED-2.2 default when radiation components were not measured)       !
   !                    Add components then together, then use the method by Weiss and     !
   !                    Norman (1985, Agric. For. Meteorol.) to split radiation down to    !
   !                    the four components.                                               !
   !                3.  All radiation goes to diffuse. Useful for theoretical studies      !
   !                    only.                                                              !
   !                4.  All radiation goes to direct, except at night.  Useful for         !
   !                    theoretical studies only.                                          !
   !                5.  (Beta) Add radiation components back together, then split          !
   !                    radiation to the four components based on clearness index (Bendix  !
   !                    et al. 2010, Int. J. Biometeorol.).                                !
   !                                                                                       !
   !      Option 0 is truly functional only when ISWRTYP = 4 (CARMA).  Otherwise, option   !
   ! 0 splits the radiation components using Weiss and Norman (1985), so effectively the   !
   ! same as IMETRAD=2.  This could change in the future if someone with good understand-  !
   ! ing of the other radiative transfer models retrieve the components from them.         !
   !---------------------------------------------------------------------------------------!
   IMETRAD      = 0,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !     The following variables control the phenology prescribed from observations:       !
   !                                                                                       !
   ! IPHENYS1 -- First year for spring phenology                                           !
   ! IPHENYSF -- Final year for spring phenology                                           !
   ! IPHENYF1 -- First year for fall/autumn phenology                                      !
   ! IPHENYFF -- Final year for fall/autumn phenology                                      !
   !                                                                                       !
   ! If the years don't cover the entire simulation period, they will be recycled.  The    !
   ! phenology file is set in PHENPATH.                                                    !
   !---------------------------------------------------------------------------------------!
   IPHENYS1 = 1992,
   IPHENYSF = 2003,
   IPHENYF1 = 1992,
   IPHENYFF = 2003,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !     These are some additional configuration files.                                    !
   ! IEDCNFGF   -- XML file containing additional parameter settings.  If you don't have   !
   !               one, leave it empty                                                     !
   ! EVENT_FILE -- file containing specific events that must be incorporated into the      !
   !               simulation.                                                             !
   ! PHENPATH   -- path and prefix of the prescribed phenology data.                       !
   !---------------------------------------------------------------------------------------!
   IEDCNFGF   = 'config.xml',
   EVENT_FILE = '',
   PHENPATH   = '/mypath/inputs',
   !---------------------------------------------------------------------------------------!
$END
!==========================================================================================!
!==========================================================================================!






!==========================================================================================!
!==========================================================================================!
!    This namelist controls the sounding specification in case INITIAL is set to 0.  This  !
! namelist is ignored otherwise.                                                           !
!------------------------------------------------------------------------------------------!
$MODEL_SOUND


   !---------------------------------------------------------------------------------------!
   !  The following variables describe the units of each variable given.                   !
   !                                                                                       !
   ! IPSFLG  -- What is given in the PS array below?                                       !
   !            0.  Pressure                           [      hPa]                         !
   !            1.  Heights                            [        m]                         !
   !                                                                                       !
   ! ITSFLG  -- What is given in the TS array below?                                       !
   !            0.  Temperature                        [       C]                         !
   !            1.  Temperature                        [        K]                         !
   !            2.  Potential temperature              [        K]                         !
   !                                                                                       !
   ! IRTSFLG -- What is given in the RTS array below?                                      !
   !            0.  Dew point temperature              [       C]                         !
   !            1.  Dew point temperature              [        K]                         !
   !            2.  Mixing ratio                       [     g/kg]                         !
   !                                                                                       !
   ! IUSFLG  -- What is given in the US and VS arrays?                                     !
   !            0.  US = zonal wind                    [      m/s]                         !
   !                VS = meridional wind               [      m/s]                         !
   !            1.  US = wind direction                [        ]                         !
   !            2.  VS = wind magnitude                [      m/s]                         !
   !                                                                                       !
   ! ICO2FLG -- It doesn't exist,                                                          !
   !            CO2S is CO2 mixing ratio               [ mol/mol]                         !
   !                                                                                       !
   ! HS      -- surface height above sea level         [        m]                         !
   !                                                                                       !
   ! PS, TS, RTS, US, VS, and CO2S are just the profiles as specified by the variables     !
   ! above.                                                                                !
   !                                                                                       !
   ! Special flags:                                                                        !
   ! PS(1) -- Regardless of IPSFLG, PS(1) should be always the surface pressure in hPa.    !
   !          If PS(1) is 0, then the model will ignore PS, TS, RTS, US, VS, and CO2S, and !
   !          it will read the initial condition from a file called SOUND_IN, which will   !
   !          contain 6 columns (PS, TS, RTS, US, VS, CO2S), with first line being the     !
   !          surface and subsequent lines going upwards.                                  !
   !---------------------------------------------------------------------------------------!
   IPSFLG   = 0,
   ITSFLG   = 0,
   IRTSFLG  = 3,
   IUSFLG   = 1,
   HS   =  182.,
   PS   =    0., 1010.,
          1000.,  925.,  850.,  700.,  600.,  500.,  400.,  300.,  200.,  100.,   70.,
   TS   =   25.,  18.5,  12.0,   4.5,  -24.,  -11.,  -37., -56.5, -56.5, -56.5, -56.5,
   RTS  =   70.,   70.,   70.,   70.,   20.,   20.,   20.,   20.,   10.,   10.,   10.,
   US   =   2.5,   2.5,   2.5,   2.5,   2.5,   2.5,   2.5,   2.5,   2.5,   2.5,   2.5,
   VS   =    3.,    3.,    3.,    3.,    3.,    3.,    3.,    3.,    3.,    3.,    3.,
   CO2S =  380.,  380.,  380.,  380.,  380.,  380.,  380.,  380.,  380.,  380.,  380.,
   !---------------------------------------------------------------------------------------!
$END
!==========================================================================================!
!==========================================================================================!






!==========================================================================================!
!==========================================================================================!
!     This namelist is used to define how to plot some of the fields in the standard       !
! output (i.e., on screen).                                                                !
!------------------------------------------------------------------------------------------!
$MODEL_PRINT

   !---------------------------------------------------------------------------------------!
   ! NPLT -- Specifies the number of fields printed every FRQPRT seconds.  Maximum of 50   !
   !         fields.  This should be set to 0. unless you are doing some debugging.        !
   !---------------------------------------------------------------------------------------!
   NPLT     = 0,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! IPLFLD -- List of fields to go in the output.  This could be pretty much any field in !
   !           BRAMS.  Below is the list of the commonest parameters.                      !
   !                                                                                       !
   !     'UP'    - UP(M/S)     'RC'   - RC(G/KG)    'PCPT' - TOTPRE                        !
   !     'VP'    - VP(M/S)     'RR'   - RR(G/KG)    'TKE'  - TKE                           !
   !     'WP'    - WP(CM/S)    'RP'   - RP(G/KG)    'HSCL' - HL(M)                         !
   !     'PP'   - PRS(MB)      'RA'   - RA(G/KG)    'VSCL' - VL(M)                         !
   !     'THP'  - THP(K)                                                                   !
   !     'THETA'- THETA(K)     'RL'   - RL(G/KG)    'TG'   - TG (K)                        !
   !     'THVP' - THV'(K)      'RI'   - RI(G/KG)    'SLM'  - SLM (PCT)                     !
   !     'TV'   - TV(K)        'RCOND'- RD(G/KG)    'CONPR'- CON RATE                      !
   !     'RT'   - RT(G/KG)     'CP'   - NPRIS       'CONP' - CON PCP                       !
   !     'RV'   - RV(G/KG)     'RTP'  - RT'(G/KG)   'CONH' - CON HEAT                      !
   !                                                'CONM' - CON MOIS                      !
   !     'THIL' - Theta-il (K) 'TEMP' - temperature (K)                                    !
   !     'TVP'  - Tv' (K)      'THV'  - Theta-v     (K)                                    !
   !     'RELHUM'-relative humidity (%)           'SPEED'- wind speed (m/s)                !
   !     'FTHRD'- radiative flux convergence (??)                                          !
   !     'MICRO'- GASPRC                                                                   !
   !     'Z0'   - Z0 (M)       'ZI'   - ZI (M)      'ZMAT' - ZMAT (M)                      !
   !     'USTARL'-USTARL(M/S)  'USTARW'-USTARW(M/S) 'TSTARL'-TSTARL (K)                    !
   !     'TSTARW'-TSTARW(K)    'RSTARL'-RSTARL(G/G) 'RSTARW'-RSTARW(G/G)                   !
   !     'UW'   - UW  (M*M/S*S)                     'VW'   - VW (M*M/S*S)                  !
   !     'WFZ'  - WFZ (M*M/S*S)                     'TFZ'  - TFZ (K*M/S)                   !
   !     'QFZ'  - QFZ (G*M/G*S)                     'RLONG'- RLONG                         !
   !     'RSHORT'-RSHORT                                                                   !
   !---------------------------------------------------------------------------------------!
   IPLFLD     = 'UP','THP','THETA','RT','TOTPRE',
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !      Both variables control the cross section to be printed.  You must provide one    !
   ! value for each field.                                                                 !
   ! IXSCTN -- Which cross section should be printed?                                      !
   !           1. XZ                                                                       !
   !           2. YZ                                                                       !
   !           3. XY                                                                       !
   ! ISBVAL -- which grid index should be used for the dimension left out of the cross     !
   !           section?                                                                    !
   !---------------------------------------------------------------------------------------!
   IXSCTN    = 3,3,3,3,3,
   ISBVAL    = 2,2,2,2,2,
   !---------------------------------------------------------------------------------------!
 

   !---------------------------------------------------------------------------------------!
   !   There are additional (optional) variables to control the plot, check the manual     !
   ! for further details.                                                                  !
   !---------------------------------------------------------------------------------------!
$END
!==========================================================================================!
!==========================================================================================!






!==========================================================================================!
!==========================================================================================!
!     This namelist controls the input of the isentropic analysis.                         !
!------------------------------------------------------------------------------------------!
$ISAN_CONTROL

   !---------------------------------------------------------------------------------------!
   ! ISZSTAGE -- This flag determines whether to run the isentropic/sigma-z stage of the   !
   !             analysis.  This stage inputs observational datasets and objectively       !
   !             analyses the data onto both isentropic and sigma-z surfaces.              !
   ! IVRSTAGE -- This flag is similar to SZ stage, but it is applied to the "varfile"      !
   !             stage, which will create the files for model initialisation (see          !
   !             VARPFX).                                                                  !
   ! In both cases, 0 means no, and 1 means yes.  If unsure, leave them set to 1.          !
   !---------------------------------------------------------------------------------------!
   ISZSTAGE   = 1,
   IVRSTAGE   = 1,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! ISAN_INC -- Time interval between data processing files.  Format is HHMM, so 0600     !
   !             means one file every 6 hours.                                             !
   !---------------------------------------------------------------------------------------!
   ISAN_INC = 0600,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! GUESS1ST -- This flag which kind of data will be used as the first guess.             !
   !             PRESS.  Pressure-level data.                                              !
   !             RAMS.   An analysis file from a previous BRAMS simulation.                !
   !---------------------------------------------------------------------------------------!
   GUESS1ST = 'PRESS',
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   !     Use the following variables to control what to do in case it fails finding input  !
   ! files for a given time.                                                               !
   ! 1.  You know there are files missing, skip the data time altogether                   !
   ! 2.  The file should be there, stop the processing                                     !
   ! 3.  Don't use this particular dataset and process with what is available              !
   !     (option 3 is not an option for the first guess, though)                           !
   !                                                                                       !
   ! I1ST_FLG -- the first guess files                                                     !
   ! IUPA_FLG -- the radiosonde files                                                      !
   ! ISFC_FLG -- the surface files                                                         !
   !---------------------------------------------------------------------------------------!
   I1ST_FLG = 1,
   IUPA_FLG = 3,
   ISFC_FLG = 3,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !      The following variables are the input path and prefix for the three kinds of     !
   ! datasets.                                                                             !
   !                                                                                       !
   ! IAPR    -- First guess files (analysis/reanalysis)                                    !
   ! IARAWI  -- Radiosonde files                                                           !
   ! IARSFCE -- Surface observation files                                                  !
   !---------------------------------------------------------------------------------------!
   IAPR    = '/n/gstore/Labs/moorcroft_lab_protected/data/brams_data/era-interim/eraint-g01-',
   IARAWI  = '/n/gstore/Labs/moorcroft_lab_protected/data/brams_data/barcab/radio/ir',
   IASRFCE = '/n/gstore/Labs/moorcroft_lab_protected/data/brams_data/barcab/weasta/es',
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! VARPFX -- The path and prefix of the processed files.  Usually you would want to have !
   !           both VARPFX and VARFPFX set to the same name, so you can start running the  !
   !           RUNTYPE = 'INITIAL' right away.                                             !
   !---------------------------------------------------------------------------------------!
   VARPFX    = '/n/moorcroftfs2/mlongo/EDBRAMS/coupled/sci006_spinup/optim_grell/isean/ecmwf',
   !---------------------------------------------------------------------------------------!


   !---------------------------------------------------------------------------------------!
   ! IOFLGISZ -- Should I write out the isentropic/sigma_z files: 0 = no, 1 = yes.         !
   !             You usually don't need these files unless you want to see more details    !
   !             about the pre-processing                                                  !
   ! IOFLGVAR -- Should I write out the varfiles, which are the ones really used by BRAMS  !
   !             You probably want these files. 0 = no, 1 = yes.                           !
   !---------------------------------------------------------------------------------------!
   IOFLGISZ  = 0,
   IOFLGVAR  = 1,
   !---------------------------------------------------------------------------------------!

 $END
!==========================================================================================!
!==========================================================================================!






!==========================================================================================!
!==========================================================================================!
!      This namelist controls the options regarding the execution of the isentropic/       !
! sigma-z analysis.                                                                        !
!------------------------------------------------------------------------------------------!
$ISAN_ISENTROPIC
 
   !---------------------------------------------------------------------------------------!
   !      The following variables control the isentropic levels.                           !
   ! NISN  -- number of isentropic levels on which to perform isentropic analysis.         !
   ! LEVTH -- isentropic (potential temperature) levels in Kelvin (integer numbers only)   !
   !          for which the isentropic analysis is performed.  Use 1-2 K near the ground,  !
   !          and coarser resolution for higher levels.                                    !
   !---------------------------------------------------------------------------------------!
   NISN     =   63,
   LEVTH    =  248,  250,  252,  254,  256,  258,  260,  262,  264,  266,
               268,  270,  272,  274,  276,  278,  280,  282,  284,  286,
               288,  290,  292,  294,  296,  298,  300,  303,  306,  309,
               312,  315,  318,  321,  324,  327,  330,  335,  340,  345,
               350,  355,  360,  380,  400,  420,  440,  460,  480,  500,
               520,  540,  570,  600,  630,  670,  700,  750,  800,  850,
               900,  950, 1000,
   !---------------------------------------------------------------------------------------!


   !---------------------------------------------------------------------------------------!
   ! NIGRIDS -- number of grids to be analysed.  Usually this should be the same as        !
   !            NGRIDS.  It can be less (not recommended, though), but it cannot be        !
   !            greater than NGRIDS.                                                       !
   !---------------------------------------------------------------------------------------!
   NIGRIDS  = 1,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! TOPSIGZ -- top height in metres for which the sigma-z analysis will be performed.     !
   !            This should be high enough so topography effects are no longer felt.       !
   !---------------------------------------------------------------------------------------!
   TOPSIGZ  = 25000.,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !     Isentropic analysis is applied above a certain height only, and the sigma-z       !
   ! analysis is performed below a certain height.  The next variables specify the layer   !
   ! in which the analysis transitions from sigma-z to isentropic analysis.                !
   ! HYBBOT -- bottom of the blended sigma-z/isentropic layer [   m]                       !
   ! HYBTOP -- top of the blended sigma-z/isentropic layer    [   m]                       !
   !---------------------------------------------------------------------------------------!
   HYBBOT   = 6000.,
   HYBTOP   = 8000.,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! SFCINF -- This is the top height above ground [ m] that is influenced by surface      !
   !           observations.  The weighting factor ranges from maximum weight at the       !
   !           surface to zero at SFCINF.                                                  !
   !---------------------------------------------------------------------------------------!
   SFCINF   = 1000.,
   !---------------------------------------------------------------------------------------!


   !---------------------------------------------------------------------------------------!
   ! SIGZWT -- Optional weight given to the sigma-z analysis in the blending process.      !
   !           This value ranges from 0. (pure isentropic analysis) to 1. (full weight for !
   !           sigma-z in the layers beneath HYBBOT).  This should be usually set to 1.    !
   !---------------------------------------------------------------------------------------!
   SIGZWT   = 1.,
   !---------------------------------------------------------------------------------------!


   !---------------------------------------------------------------------------------------!
   ! NFEEDVAR -- When creating varfiles for more than one grid, the data can optionally go !
   !             through the feedback process if you set this variable to 1.  This is the  !
   !             option you should normally use, unless you are using BRAMS just to        !
   !             process the analysis, you won't be running the model with these varfiles, !
   !             and you don't want to modify the results of the different grids.          !
   !---------------------------------------------------------------------------------------!
   NFEEDVAR = 1,
   !---------------------------------------------------------------------------------------!


   !---------------------------------------------------------------------------------------!
   !      Dimensions used to control the maximum number of observation datasets to be      !
   ! assimilated at a given time.  Control yourself and don't use huge numbers here        !
   ! because the arrays will be allocated with these sizes.                                !
   !                                                                                       !
   ! MAXSTA -- This is the maximum number of radiosondes expected at a given time.         !
   ! MAXSFC -- Maximum number of surface observations expected at a given time.            !
   !---------------------------------------------------------------------------------------!
   MAXSTA   = 150,
   MAXSFC   = 9999,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   !      You may want to exclude some specific observations, either because the values    !
   ! are consistently bad, or just because you don't want them... The following variables  !
   ! allow you to ignore them -- don't worry, we won't tell the folks that were in the     !
   ! field collecting the data that you are discarding them.                               !
   !                                                                                       !
   ! NOTSTA -- number of stations to be ignored                                            !
   ! NOTID  -- list of station IDs to be ignored.  Use r in front of the ID if the         !
   !           unfortunate observation is a radiosonde, or s if it is a surface            !
   !           observation.                                                                !
   !---------------------------------------------------------------------------------------!
   NOTSTA   = 0,
   NOTID    = 'r76458',
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! IOBSWIN -- this is the observation window in seconds.  Sometimes observations aren't  !
   !            taken exactly at the time we are running the analysis.  If the absolute    !
   !            difference between the observation and the analysed field is less than     !
   !            IOBSWIN, we use the data, otherwise, we discard them.                      !
   !---------------------------------------------------------------------------------------!
   IOBSWIN = 1800,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! STASEP -- sometimes a place may have too many observations almost at the same place   !
   !           (like in urban areas), or some observation was duplicated in the input      !
   !           file.  The objective analysis will discard all data that are closer than    !
   !           STASEP degrees.  The first in the record stays, unless the new report has   !
   !           less missing data.                                                          !
   !---------------------------------------------------------------------------------------!
   STASEP   = .1,
   !---------------------------------------------------------------------------------------!



   !---------------------------------------------------------------------------------------!
   ! IGRIDFL -- this flag controls the blending of gridded pressure data and observations. !
   !            0.  Ignore the pressure data, use observations only.  Not recommended      !
   !                unless your observation network is abundant, very evenly distributed,  !
   !                and top-notch.                                                         !
   !            1.  Use all observations: all gridded pressure-level data, and all         !
   !                observations that were not discarded.  This is the recommended option  !
   !                when both pressure level data and observations are avaialble.          !
   !            2.  Use gridded pressure-level data only where no observation is closer to !
   !                the analysed grid point than the gridded data.                         !
   !            3.  Use only gridded pressure level data.  Useful only when only gridded   !
   !                data are available.                                                    !
   !            4.  The gridded data are taken as a first guess field, and observations    !
   !                are objectively analysed and applied to the first guess as deviations. !
   !                This is a lot faster than 1, but it doesn't use the full potential of  !
   !                observed data.  Recommended only for quick analysis or when time is    !
   !                a strong constraint.                                                   !
   !---------------------------------------------------------------------------------------!
   IGRIDFL  = 3,
   !---------------------------------------------------------------------------------------!


   !---------------------------------------------------------------------------------------!
   ! GRIDWT -- This is the relative weight for gridded data compared to the observations   !
   !           during the objective analysis.  Values of 0.01 gives the observation 100    !
   !           times more weight than pressure data.  Recommended values are between 0.001 !
   !           and 0.1.  Provide one value for each grid.                                  !
   !---------------------------------------------------------------------------------------!
   GRIDWT   = .01,.01,
   !---------------------------------------------------------------------------------------!


   !---------------------------------------------------------------------------------------!
   !     These variables are used only if IGRDFL is set to 2.                              !
   ! GOBSEP -- discard pressure data grid points in the objective analysis if the point is !
   !           within GOBSEP degrees of a radiosonde observation.                          !
   ! GOBRAD -- discard pressure data grid points if there are observations in three        !
   !           quadrants of a circle of GOBRAD radius (degrees).                           !
   !---------------------------------------------------------------------------------------!
   GOBSEP   = 5.,
   GOBRAD   = 5.,
   !---------------------------------------------------------------------------------------!




   !---------------------------------------------------------------------------------------!
   !     The following two parameters are used to control the smoothing of the analysed    !
   ! field in the Barnes objective analysis.  Both values are grid-dependent, so provide   !
   ! as many values as grids.                                                              !
   !                                                                                       !
   ! WVLNTH  -- wave length of data on the isentropic and sigma-z surfaces, specified in   !
   !            distance to be retained  [km], and are used when dealing with radiosondes. !
   ! SWVLNTH -- similar to WVLNTH, but related to surface observations.                    !
   ! RESPON  -- fraction of the wavelength amplitudes to be retained, applied to both      !
   !            radiosonde and surface data.                                               !
   !---------------------------------------------------------------------------------------!
   WVLNTH   = 1200., 900.,
   SWVLNTH  =  750., 300.,
   RESPON   =   .90,  .90,
   !---------------------------------------------------------------------------------------!
$END
!==========================================================================================!
!==========================================================================================!

